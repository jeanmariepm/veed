(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),s=n(20),a=n.n(s),c=(n(80),n(81),n(82),n(121)),o=n(30),l=n(8),u=n(36),h=n(12),d=n(124),j=n(125),g=n(122),b=n(13),f=n(14),p=n(34),O=n(32),v=n(74),m=n(1),x=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).startOver=function(){r.setState((function(e){return{score:0}}))},r.inputKeyPress=function(e){"Enter"===e.key&&(parseInt(r.state.response)===r.state.num1+r.state.num2?r.setState((function(e){return{score:e.score+1,response:"",num1:Math.ceil(10*Math.random()),num2:Math.ceil(10*Math.random()),incorrect:!1}})):r.setState((function(e){return{score:e.score-1,incorrect:!0,response:""}})))},r.updateResponse=function(e){r.setState({response:e.target.value})},r.state={num1:1,num2:1,response:"",score:0,incorrect:!1,imageURL:"https://picsum.photos/100"},r}return Object(f.a)(n,[{key:"render",value:function(){return 2===this.state.score?this.renderWinnerScreen():this.renderProblem()}},{key:"renderWinnerScreen",value:function(){return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)("img",{src:this.state.imageURL,alt:""}),Object(m.jsx)("div",{id:"winner",children:"You won!"}),Object(m.jsx)(v.a,{onClick:this.startOver,children:"Start Over"})]})}},{key:"renderProblem",value:function(){return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)("h1",{children:"Addition"}),Object(m.jsxs)("div",{className:this.state.incorrect?"incorrect":"",id:"problem",children:[this.state.num1," + ",this.state.num2]}),Object(m.jsx)("input",{onKeyPress:this.inputKeyPress,onChange:this.updateResponse,autoFocus:!0,value:this.state.response}),Object(m.jsxs)("div",{children:["Score: ",this.state.score]})]})}}]),n}(r.Component),A=n(37),y=n.n(A),k=n(60),S=n(47),T=n(29),B=n.n(T);B.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.error(e),u.b.error("An unexpected error occurrred.")),Promise.reject(e)}));var C={get:B.a.get,post:B.a.post,put:B.a.put,delete:B.a.delete},w="localhost"===window.location.hostname?"http://localhost:8000":window.location.origin,D="token",N=null;function L(){return(L=Object(k.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("logging in with jwt:",t),e.prev=1,e.next=4,B.a.post(w+"/refresh_token/",{token:t},{headers:{Authorization:"JWT "+t}});case 4:n=e.sent,r=n.data,console.log("logged in with jwt",r),r.token?(N=r.username,localStorage.setItem(D,r.token)):console.log("Need to login again"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.status>400&&(console.error(e.t0.response),console.log("Need to login again"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var P={login:function(){var e=Object(k.a)(y.a.mark((function e(t,n,r){var i,s,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=w+"/login/",e.prev=1,e.next=4,C.post(i,{username:t,password:n});case 4:s=e.sent,a=s.data,console.log("jwt",Object(S.a)(a.token)),localStorage.setItem(D,a.token),N=t,r(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Login failure!",e.t0),Object(u.b)("Login failed. Please try again");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),signup:function(){var e=Object(k.a)(y.a.mark((function e(t,n,r){var i,s,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=w+"/signup/",e.prev=1,e.next=4,B.a.post(i,{username:t,password:n});case 4:s=e.sent,a=s.data,localStorage.setItem(D,a.token),N=t,r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Signup failure!",e.t0),Object(u.b)("Signup failed. Please try again");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),logout:function(e){localStorage.removeItem(D),N=null,e()},getCurrentUser:function(){if(N)return N;try{var e=localStorage.getItem(D);if(!e)return null;console.log("jwt",Object(S.a)(e));var t=Object(S.a)(e).exp,n=144e5;return t<n?(console.log("Token has expired:",t),function(e){L.apply(this,arguments)}(e)):(console.log("Token has NOT expired:",t,"<",n),N=Object(S.a)(e).username),N}catch(r){return console.log("Nothing in jwt"),null}}},H=function(){var e=P.getCurrentUser();return Object(m.jsxs)(i.a.Fragment,{children:[e?Object(m.jsxs)("h2",{children:["Welcome back, ",e]}):Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("h2",{children:"Hello, Guest!"}),Object(m.jsxs)("div",{className:"alert alert-dark",role:"alert",children:["To fully explore the site, register. ",Object(m.jsx)("br",{}),"If you have already registered, please login"]}),Object(m.jsxs)("div",{className:"alert alert-dark",role:"alert",children:["This is not a secure site. ",Object(m.jsx)("br",{}),"Do NOT provide any sensitive or confidential data"]})]}),Object(m.jsx)("div",{className:"alert alert-dark",role:"alert",children:"If you have just been introduced to the game of Bridge, you can practice bidding and get feedback from an AI"}),Object(m.jsxs)("div",{className:"alert alert-dark",role:"alert",children:["This site is built with Django and React. ",Object(m.jsx)("br",{}),"It is the developer's playground for experimentation. ",Object(m.jsx)("br",{}),"You are welcome to access",Object(m.jsx)("a",{href:"https://github.com/jeanmariepm/veed.git",children:" the source code"})]})]})},R=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).styles={backgroundColor:"blue",fontSize:14,width:50,height:50,margin:2,borderRadius:4},r.state={game:e.game,handler:e.onClick,index:e.index},r}return Object(f.a)(n,[{key:"getDisabled",value:function(){return null!==this.getValue()}},{key:"getValue",value:function(){return this.state.game.squares[this.state.index]}},{key:"render",value:function(){var e=this;return Object(m.jsx)(v.a,{style:this.styles,disabled:this.getDisabled(),onClick:function(){return e.state.handler()},children:Object(m.jsx)("strong",{children:this.getValue()})})}}]),n}(r.Component),M=n(15),I=function(){function e(){Object(b.a)(this,e),this.bestVal={X:1,O:-1},this.squares=Array(9).fill(null)}return Object(f.a)(e,[{key:"getWinner",value:function(){return this.calculateWinner(this.squares)}},{key:"isOver",value:function(){return 0===this.squares.filter((function(e){return null===e})).length}},{key:"calculateWinner",value:function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var r=Object(h.a)(t[n],3),i=r[0],s=r[1],a=r[2];if(null!==e[i]&&e[i]===e[s]&&e[i]===e[a])return e[i]}return null}},{key:"setAction",value:function(e,t){this.squares[t]=e}},{key:"getAIAction",value:function(){if(1===this.squares.filter((function(e){return"X"===e})).length){if(!this.squares[4])return 4;if(!this.squares[0])return 0}var e=this.minmax(this.squares,"O"),t=Object(h.a)(e,2)[1];return-1===t&&(console.log("giving up?"),t=this.squares.findIndex((function(e){return null===e}))),t}},{key:"getWinningMove",value:function(e,t){for(var n=Object(M.a)(e),r=0;r<e.length;r++)if(!e[r]){n[r]=t;var i=this.calculateWinner(n);if(n[r]=e[r],i===t)return[this.bestVal[t],r]}return[null,null]}},{key:"minmax",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r="X"===t?"O":"X",i=!0,s=0;s<e.length;s++)e[s]||(i=!1);if(i)return[0,-1];var a=this.getWinningMove(e,t),c=Object(h.a)(a,2),o=c[0],l=c[1];if(o===this.bestVal[t])return[o,l];for(var u=Object(M.a)(e),d=[this.bestVal[r],-1],j=d[0],g=d[1],b=0;b<e.length;b++)if(!e[b]){u[b]=t,n<0&&console.log("".concat("*".repeat(n)," minmax considering ").concat(b," for ").concat(t));var f=this.minmax(u,r,n+1),p=Object(h.a)(f,2);if(o=p[0],l=p[1],n<0&&console.log("".concat("*".repeat(n)," minmax considered ").concat(b," for ").concat(t," and got ").concat(o,",").concat(l)),u[b]=e[b],o===this.bestVal[t])return[o,b];0===o&&(j=o,g=b)}return[j,g]}}]),e}(),X=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).startOver=function(){r.setState({game:new I})},r.state={game:new I},r}return Object(f.a)(n,[{key:"renderSquare",value:function(e){var t=this;return Object(m.jsx)(R,{game:this.state.game,index:e,onClick:function(){return t.clickHandler(e)}})}},{key:"clickHandler",value:function(e){if(this.state.game.setAction("X",e),this.state.game.getWinner())console.log("Disabling clickHandler as we have a winners ");else{var t=this.state.game.getAIAction();console.log("AI recommends: ".concat(t)),this.state.game.setAction("O",t)}this.setState({game:this.state.game})}},{key:"renderWinnerScreen",value:function(e){return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsxs)("div",{id:"winner",children:[e," won!"]}),Object(m.jsx)(v.a,{onClick:this.startOver,children:"Start Over"})]})}},{key:"render",value:function(){var e;return this.state.game.isOver()?e="Nobody":this.state.game.getWinner()&&(e=this.state.game.getWinner()),e?this.renderWinnerScreen(e):this.renderGameScreen()}},{key:"renderGameScreen",value:function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Tic Tac Toe"})}),Object(m.jsxs)("div",{className:"BoardSquare",children:[Object(m.jsxs)("div",{className:"board-row",children:[this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)]}),Object(m.jsxs)("div",{className:"board-row",children:[this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)]}),Object(m.jsxs)("div",{className:"board-row",children:[this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)]})]})]})}}]),n}(r.Component),F=function(){function e(){Object(b.a)(this,e),this.hands=this.shuffle(),this.dealer=3,this.vul=Math.floor(4*Math.random())}return Object(f.a)(e,[{key:"shuffle",value:function(){for(var e,t=[],n=0;n<52;n++)t[n]=n;for(var r=[],i=0;i<4;i++){for(var s={S:[],H:[],D:[],C:[]},a=0;a<13;a++)e=t[Math.floor(Math.random()*t.length)],t.splice(t.indexOf(e),1),e<13?s.S.push(e):e<26?s.H.push(e):e<39?s.D.push(e):e<52&&s.C.push(e);r.push(s)}return this.getBridgeDeal(r)}},{key:"getBridgeDeal",value:function(e){for(var t=this,n=[],r=function(r){n[r]={S:[],H:[],D:[],C:[]},["S","H","D","C"].map((function(i){n[r][i]=e[r][i].sort((function(e,t){return t-e}));for(var s="",a=0;a<n[r][i].length;a++)s+=t.getBridgeChar(n[r][i][a]);return n[r][i]=s,n[r]}))},i=0;i<4;i++)r(i);return n}},{key:"getBridgeChar",value:function(e){return{0:"2",1:"3",2:"4",3:"5",4:"6",5:"7",6:"8",7:"9",8:"T",9:"J",10:"Q",11:"K",12:"A"}[e%13]}},{key:"getHand",value:function(e){return this.hands[e]}},{key:"getDealer",value:function(){return this.dealer}}]),e}(),U={S:"data:image/gif;base64,R0lGODlhDQALALMAAAAAAL8AAAC/AL+/AAAAv78AvwC/v8DAwICAgP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAAcALAAAAAANAAsAAAQc8MgJprUgX5z17uAFjtRIHuaZhpJXoa/ofeYUAQA7",H:"data:image/gif;base64,R0lGODlhDQALALMAAAAAAL8AAAC/AL+/AAAAv78AvwC/v8DAwICAgP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAAcALAAAAAANAAsAAAQd8JxE5ayS6ru5/kkGguLYeaRlYupovenbhrJMvxEAOw==",D:"data:image/gif;base64,R0lGODlhDQALALMAAAAAAL8AAAC/AL+/AAAAv78AvwC/v8DAwICAgP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAAcALAAAAAANAAsAAAQa8MiZprUpX5z17uAFjtRISmYnmttxtmpLbREAOw==",C:"data:image/gif;base64,R0lGODlhDQALALMAAAAAAL8AAAC/AL+/AAAAv78AvwC/v8DAwICAgP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAAcALAAAAAANAAsAAAQe8EgJ6ry0Wpw1nx63ARnokRp5pOx4riFMleJWs1MEADs="},W=function(e){var t=e.suit;return Object(m.jsx)(i.a.Fragment,{children:Object(m.jsx)("img",{src:U[t],alt:t})})},q=function(e){var t=e.cards,n=e.name;return Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("h6",{children:n}),["S","H","D","C"].map((function(e){return Object(m.jsxs)("h8",{children:[Object(m.jsx)(W,{suit:e}),t&&t[e],"\xa0"]},e)}))]})},G=n(119),z=n(120),E=n(126),Q=n(23),J=n.n(Q),V={fontFamily:["Courier New","Courier","monospace"],textAlign:"center",fontWeight:"bolder",fontSize:"small",maxHeight:"fit-content",display:"inline-block",marginLeft:"2%",zoon:1},K=function(e,t,n){for(var r=0;r<e;r++)t=[""].concat(Object(M.a)(t));t=[].concat(Object(M.a)(t),[n?"-":"?"]);var s={"":"-","1T":"1NT","2T":"2NT","3T":"3NT","4T":"4NT","5T":"5NT","6T":"6NT","7T":"7NT"};return Object(m.jsx)(i.a.Fragment,{children:t.map((function(e,n){return Object(m.jsx)("div",{children:n%4===0&&Object(m.jsx)(G.a,{children:J.a.slice(t,n,n+4).map((function(e,t){return Object(m.jsx)(z.a,{style:{maxWidth:3},children:Object(m.jsx)("div",{style:V,children:s[e]||e})},t)}))},n)},n)}))})},Y=function(e){var t=e.dealer,n=e.bids,r=e.biddingOver;return Object(m.jsx)(E.a,{children:Object(m.jsxs)(E.a.Body,{children:[Object(m.jsx)(G.a,{children:["W","N","E","S"].map((function(e,t){return Object(m.jsx)(z.a,{style:{maxWidth:3},children:Object(m.jsx)("div",{style:V,children:e})},t)}))}),K(t,n,r)]})})},Z=n(123),_=function(e){var t=e.onUndoBid;return Object(m.jsx)(v.a,{variant:"secondary",size:"sm",onClick:t,children:"Undo last bid"})},$=function(e){var t=e.placeBid,n=e.undoBid,s=e.goingBid,a=e.allowUndo,o=e.doubleOption,l=e.aiBid,u=Object(r.useState)(""),d=Object(h.a)(u,2),j=d[0],g=d[1],b={fontFamily:["Courier New"],fontSize:"large"},f=function(e,n){var r=e.target.value;if(console.log("onPickBid ",r),"Bid"!==r)return n&&(A[r]||r)!==n?void g(r):(t(A[r]||r),void g(""))},p=function(){t(A[j]||j),g("")},O=function(){g("")},x=function(){n(),g("")},A={Pass:"P","1NT":"1T","2NT":"2T","3NT":"3T","4NT":"4T","5NT":"5T","6NT":"6T","7NT":"7T",Dbl:"X",RDbl:"XX"},y={"":"-","1T":"1NT","2T":"2NT","3T":"3NT","4T":"4NT","5T":"5NT","6T":"6NT","7T":"7NT",X:"Dbl",XX:"RDbl"},k=function(){var e=["Pass"];return o&&e.push(o),Object(m.jsxs)(c.a,{style:b,children:[Object(m.jsx)(G.a,{children:e.map((function(e,t){return Object(m.jsx)("div",{xs:3,children:Object(m.jsx)(v.a,{onClick:function(e){return f(e,l)},className:"btn-sm m-0 p-0",variant:"Pass"===e?"success":"danger",value:e,children:e},e)},t)}))}),[1,2,3,4,5,6,7].map((function(e){return Object(m.jsx)(G.a,{children:["C","D","H","S","T"].map((function(t){return Object(m.jsx)("div",{children:e+t<=s?Object(m.jsx)(v.a,{disabled:!0,className:"btn-sm m-0 p-0",style:{height:12},variant:"dark",value:e+t,children:y[e+t]||e+t}):Object(m.jsx)(v.a,{onClick:function(e){return f(e,l)},className:"btn-sm m-0 p-0",variant:"success",value:e+t,children:y[e+t]||e+t})},t)}))},e)}))]})};return j?Object(m.jsxs)(Z.a.Dialog,{children:[Object(m.jsx)(Z.a.Header,{children:Object(m.jsx)(Z.a.Title,{children:"Check your bid"})}),Object(m.jsxs)(Z.a.Body,{children:[Object(m.jsxs)(G.a,{children:["Your bid: ",j]}),Object(m.jsxs)(G.a,{children:[" AI says: ",y[l]||l]})]}),Object(m.jsxs)(Z.a.Footer,{children:[Object(m.jsx)(v.a,{variant:"secondary",onClick:O,children:"Retry"}),Object(m.jsx)(v.a,{variant:"primary",onClick:p,children:"Confirm Bid"})]})]}):Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("div",{children:k()}),Object(m.jsx)("div",{children:Object(m.jsx)(i.a.Fragment,{children:a&&Object(m.jsx)(_,{onUndoBid:x})})})]})},ee=function(){function e(t){var n=this;Object(b.a)(this,e),this.getNTBid=function(){if("U"===n.shape)return"";var e=n.hcp;return"B"===n.shape&&(e=n.hcp+(1===J.a.groupBy(n.distribution)[5]?1:0)),e>=15&&e<=17?"1T":e>=20&&e<=21?"2T":""},this.get1MajorBid=function(){var e=n.distribution[0],t=n.distribution[1];return e<5&&t<5?"":n.hcp>=11&&n.hcp<=21||10===n.hcp&&"U"===n.shape?e>=t?"1S":"1H":""},this.get1MinorBid=function(){var e=n.distribution[2],t=n.distribution[3];return n.hcp>=12||n.hcp>=10&&n.longestLength+n.secondLength+n.hcp>=20?e>=4&&e>=t?"1D":"1C":""},this.get2CBid=function(){return n.hcp>=21?"2C":""},this.getPreemptBid=function(){if(n.ltc>=9)return"";if(J.a.max(n.distribution)<6)return"";var e=n.distribution[0],t=n.distribution[1],r=n.distribution[2];if(6===J.a.max(n.distribution))return 6===e?"2S":6===t?"2H":6===r?"2D":"P";if(J.a.max(n.distribution)>6){var i=e>6?"S":t>6?"H":r>6?"D":"C",s=11-n.ltc;return s>4&&(s=4),s+i}return""},this.suitMap={0:"S",1:"H",2:"D",3:"C"},this.hand=t,this.hcp=0,this.ltc=0,this.shape="",this.distribution=[],this.evaluateHand();var r=this.getTwoLongest(),i=r.longestLength,s=r.longestSuit,a=r.secondLength,c=r.secondSuit;this.longestLength=i,this.longestSuit=s,this.secondLength=a,this.secondSuit=c}return Object(f.a)(e,[{key:"print",value:function(){console.log(this.hand,"HCP: ".concat(this.hcp," Dist:").concat(this.distribution," LTC:").concat(this.ltc," Shape:").concat(this.shape))}},{key:"evaluateHand",value:function(){for(var e in this.hand){var t=this.hand[e];this.hcp+=t.search("A")>=0?4:0,this.hcp+=t.search("K")>=0?3:0,this.hcp+=t.search("Q")>=0?2:0,this.hcp+=t.search("J")>=0?1:0,this.distribution.push(t.length);var n=t.replace("A","").replace("K","").replace("Q","");this.ltc+=Math.min(3,t.length)-(t.length-n.length)}var r=J.a.groupBy(this.distribution);this.shape=r[0]||r[1]?"U":r[2]&&r[2].length>1?"S":"B"}},{key:"haveStopper",value:function(e){var t=this.hand[e];return t.search("A")>=0||(t.search("K")>=0&&t.length>=2||(3===t.length&&"Q"===t.charAt(0)&&("J"===t.charAt(1)||"T"===t.charAt(1))||t.length>=4))}},{key:"getTwoLongest",value:function(){var e=J.a.max(this.distribution),t=J.a.indexOf(this.distribution,e),n=this.suitMap[t],r=Object(M.a)(this.distribution);r[t]=0;var i=J.a.max(r),s=J.a.indexOf(r,i);return{longestLength:e,longestSuit:n,secondLength:i,secondSuit:this.suitMap[s]}}},{key:"getGoingBid",value:function(e){for(var t,n="",r=e.length-1;r>=0;r--)if("X"!==(t=e[r])||n||(n="X"),"XX"!==t||n||(n="XX"),t.match(/^\d/))return[r,t,n];return[-1,"",""]}},{key:"wePassed",value:function(e){for(var t=e.length-2;t>=0;t-=2)if("P"!==e[t])return!1;return!0}},{key:"getBiddingContext",value:function(e){var t=this.getGoingBid(e),n=Object(h.a)(t,3),r=n[0],i=n[1],s=n[2],a=i?this.getGoingBid(e.slice(0,r)):[-1,"",""],c=Object(h.a)(a,3),o=c[0],l=c[1],u={bidderRole:null,goingBid:i,priorGoingBid:l,dblRdbl:s,priorDblRdbl:c[2]};return console.assert(o>=-1),i?r===e.length-2?l?this.wePassed(e.slice(0,r))&&(u.bidderRole="Advancer"):u.bidderRole="Responder":e.length<=7&&this.wePassed(e)&&(u.bidderRole="Overcaller"):u.bidderRole="Opener",u}},{key:"getBid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="",n=this.getBiddingContext(e);return"Opener"===n.bidderRole&&(t=this.getOpeningBid()),"Overcaller"===n.bidderRole&&(t=this.getOvercall(n.goingBid)),"Responder"===n.bidderRole&&(t=this.getResponse(e,n)),t}},{key:"getOpeningBid",value:function(){var e="";return(e=this.getNTBid())||(e=this.get2CBid()),e||(e=this.getNTBid()),e||(e=this.get1MajorBid()),e||(e=this.get1MinorBid()),e||(e=this.getPreemptBid()),e||(e="P"),e}},{key:"getOvercall",value:function(e){var t="";if(this.hcp>=18)return"X";var n=e.charAt(1),r=e.charCodeAt(0)-"0".charCodeAt(0);return(t=this.getNTOvercall(r,n))||(t=this.getSuitOvercall(r,n)),t||(t=this.getTODouble(r,n)),t||(t=this.getPreemptOvercall(r,n)),t||(t="P"),t}},{key:"getResponse",value:function(e,t){var n=e[e.length-1];return t.goingBid===n?this.getIntResponseBid(t.priorGoingBid,t.goingBid):this.getResponseBid(t.goingBid)}},{key:"getNTOvercall",value:function(e,t){var n="";return e<=2&&"T"!==t&&this.haveStopper(t)&&(n="1T"===(n=this.getNTBid())?1===e?"1T":2===e?"2T":"":""),n}},{key:"getSuitOvercall",value:function(e,t){return this.hcp<9+2*(e-1)?"":this.longestSuit!==t&&this.longestLength>=5?e+this.longestSuit>e+t?e+this.longestSuit:e+1+this.longestSuit:this.secondLength>=5?e+this.secondSuit>e+t?e+this.secondSuit:e+1+this.secondSuit:""}},{key:"getTODouble",value:function(e,t){if(this.hcp<12)return"";if("T"===t)return"";var n=["S","H","D","C"];if(this.hand[t].length>=3)return"";for(var r in n)if(n[r]!==t&&this.hand[n[r]].length<3)return"";return"X"}},{key:"getPreemptOvercall",value:function(e,t){var n=this.getPreemptBid();return n>e+t?n:""}},{key:"getResponseBid",value:function(e){var t="";return"2C"===e&&(t=this.get2CResponse()),t||"1C"!==e&&"1D"!==e||(t=this.getMinorResponse(e)),t||"1H"!==e&&"1S"!==e||(t=this.getMajorResponse(e)),t||"1T"!==e&&"2T"!==e||(t=this.getNTResponse(e)),t||"2"===e.charAt(1)&&(t=this.getWeak2Response(e)),t}},{key:"getIntResponseBid",value:function(e,t){return""}},{key:"getMinorResponse",value:function(e){var t=e.charAt(0),n=e.charAt(1);if(this.hcp>=12){if(this.longestLength<5&&"B"===this.shape)return"2T";var r=this.longestSuit;return r===n&&(r=this.secondSuit),"C"!==r?t+r:"2C"}return this.hcp>=6?this.longestLength>=5&&("S"===this.longestSuit||"H"===this.longestSuit)?t+this.longestSuit:4===this.distribution[1]?"1H":4===this.distribution[0]?"1S":this.hcp>=8&&this.hcp<=10&&"U"!==this.shape?"1T":"1D":(console.log("Pass",this.hcp),"P")}},{key:"getMajorResponse",value:function(e){var t=this,n=e.charAt(1),r=this.hand[n].length,i=0;r>=3&&["S","H","D","C"].forEach((function(e){if(n!==e){var r=t.hand[n].length;i+=0===r?5:1===r?3:2===r?1:0}}));var s=this.hcp+i;if(r>=3){if(s>=12)return 4+n;if(s>=10)return 3+n;if(s>=7)return 2+n;if(s>=5)return"1T"}return s>=12?this.longestLength>=5?1+this.longestSuit>e?1+this.longestSuit:2+this.longestSuit:"2C":s>=6?"H"===n&&this.distribution[0]>=4?"1S":"1T":"P"}},{key:"getNTResponse",value:function(e){var t=e.charAt(0)-"0",n=t+1,r=this.distribution[0],i=this.distribution[1],s=this.distribution[2],a=this.distribution[3];if(r>=5&&i<5)return n+"H";if(i>=5&&r<5)return n+"D";if(r>=5&&i>=5)return 1===t?this.hcp>=8?n+"H":n+"D":this.hcp>=4?n+"H":n+"D";if((r>=4||i>=4)&&1===t&&this.hcp>=8)return n+"C";if(2===t&&this.hcp>=4)return n+"C";if(1===t&&this.hcp>=8)return n+"S";if(1===t&&this.ltc<=9){if(a>=6)return n+"S";if(s>=6)return n+"T"}return"P"}},{key:"get2CResponse",value:function(){return""}}]),e}(),te=function(e){var t=e.undoBid,n=e.saveDeal,r=e.nextDeal,s=function(){n()},a=function(){r()};return Object(m.jsx)(i.a.Fragment,{children:Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)(G.a,{children:Object(m.jsx)(z.a,{children:Object(m.jsx)(_,{onUndoBid:t})})}),Object(m.jsxs)(G.a,{children:[Object(m.jsx)(z.a,{children:Object(m.jsx)(v.a,{variant:"success",size:"sm",onClick:a,children:"Next Deal"})}),Object(m.jsx)(z.a,{children:Object(m.jsx)(v.a,{variant:"link",size:"sm",disabled:!0,onClick:s,children:"Save to Review"})})]})]})})},ne={0:"West",1:"North",2:"East",3:"South"},re=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).startDeal=function(){r.deal=new F,r.agents=[];for(var e=0;e<4;e++)r.agents.push(new ee(r.deal.getHand(e)));r.dealer=r.deal.getDealer(),r.player=r.dealer,r.aiBid=r.agents[r.player].getBid()},r.nextDeal=function(){r.startDeal(),r.setState({bids:[]})},r.saveDeal=function(){console.log("Save deal..."),r.startDeal(),r.setState({bids:[]})},r.getGoingBid=function(){for(var e,t=Object(M.a)(r.state.bids);e=t.pop();)if(e.match(/^\d/))return e;return null},r.placeBid=function(e){console.log("Bid:",e);var t=[].concat(Object(M.a)(r.state.bids),[e]);r.player=(r.dealer+t.length)%4,r.aiBid=r.agents[r.player].getBid(t),r.setState({bids:t})},r.undoBid=function(){console.log("Undoing last bid...");var e=Object(M.a)(r.state.bids);e.pop(),r.player=(r.dealer+e.length)%4,r.aiBid=r.agents[r.player].getBid(e),r.setState({bids:e})},r.biddingOver=function(){var e=Object(M.a)(r.state.bids);if(e.length>=4){var t=e.length;if("P"===e[t-1]&&"P"===e[t-2]&&"P"===e[t-3])return!0}return!1},r.getDoubleOption=function(){var e,t=Object(M.a)(r.state.bids),n=t.length;if(0===n)return e;var i=t[n-1];if("X"===i)e="XX";else if("P"!==i)e="X";else if(n>=3){var s=t[n-2],a=t[n-3];"P"===s&&("X"===a?e="XX":"P"!==a&&(e="X"))}return e},r.startDeal(),r.state={bids:[]},r}return Object(f.a)(n,[{key:"render",value:function(){return this.showHands(this.player)}},{key:"showOneHand",value:function(e,t){return this.biddingOver()||e===t?Object(m.jsx)(i.a.Fragment,{children:Object(m.jsx)(q,{cards:this.deal.getHand(t),name:ne[t]})}):Object(m.jsx)(q,{name:ne[t]})}},{key:"showHands",value:function(e){return Object(m.jsxs)(c.a,{fluid:!0,children:[Object(m.jsxs)(G.a,{children:[Object(m.jsx)(z.a,{}),Object(m.jsxs)(z.a,{children:[this.showOneHand(e,1)," "]}),Object(m.jsx)(z.a,{children:this.biddingOver()&&Object(m.jsx)(te,{undoBid:this.undoBid,saveDeal:this.saveDeal,nextDeal:this.nextDeal})})]}),Object(m.jsxs)(G.a,{children:[Object(m.jsx)(z.a,{children:Object(m.jsxs)(z.a,{children:[this.showOneHand(e,0)," "]})}),Object(m.jsxs)(z.a,{children:[Object(m.jsx)(Y,{dealer:this.deal.getDealer(),bids:this.state.bids,biddingOver:-1===e}),!this.biddingOver()&&Object(m.jsx)($,{placeBid:this.placeBid,undoBid:this.undoBid,goingBid:this.getGoingBid(),allowUndo:this.state.bids.length>0,doubleOption:this.getDoubleOption(),aiBid:this.aiBid})]}),Object(m.jsx)(z.a,{children:Object(m.jsxs)(z.a,{children:[this.showOneHand(e,2)," "]})})]}),Object(m.jsxs)(G.a,{children:[Object(m.jsx)(z.a,{}),Object(m.jsx)(z.a,{children:Object(m.jsxs)(z.a,{children:[this.showOneHand(e,3)," "]})}),Object(m.jsx)(z.a,{})]})]})}}]),n}(r.Component),ie=function(e){var t=e.logoutHandler;return Object(m.jsx)(i.a.Fragment,{children:Object(m.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),P.logout(t)}(e)},children:[Object(m.jsx)("h4",{children:"Log Out"}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"username",children:"Username"}),Object(m.jsx)("input",{type:"text",readOnly:!0,className:"form-control",name:"username",value:P.getCurrentUser()})]}),Object(m.jsx)(v.a,{type:"submit",className:"btn btn-primary btn-block",children:"Submit"})]})})},se=function(e){var t=e.loginHandler,n=e.signupHandler,s=Object(r.useState)(),a=Object(h.a)(s,2),c=a[0],o=a[1],l=Object(r.useState)(),u=Object(h.a)(l,2),d=u[0],j=u[1],g=Object(r.useState)("login"),b=Object(h.a)(g,2),f=b[0],p=b[1],O=function(e){e.preventDefault(),P.login(c,d,t)},x=function(e){e.preventDefault(),P.signup(c,d,n)};return Object(m.jsx)(i.a.Fragment,{children:"login"===f?Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:function(e){return O(e)},children:[Object(m.jsx)("h4",{children:"Log In"}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"username",children:"Username"}),Object(m.jsx)("input",{type:"text",className:"form-control",name:"username",onChange:function(e){return o(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",name:"password",autoComplete:"on",onChange:function(e){return j(e.target.value)}})]}),Object(m.jsx)(v.a,{type:"submit",className:"btn btn-primary btn-block",children:"Submit"}),Object(m.jsxs)("p",{className:"text-right",children:["New to Veed?"," ",Object(m.jsx)(v.a,{variant:"link",onClick:function(){return p("signup")},children:"Please Sign Up"})]})]})}):Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:function(e){return x(e)},children:[Object(m.jsx)("h4",{children:"Sign Up"}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"username",children:"Username"}),Object(m.jsx)("input",{type:"text",className:"form-control",name:"username",onChange:function(e){return o(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",name:"password",autoComplete:"on",onChange:function(e){return j(e.target.value)}})]}),Object(m.jsx)(v.a,{type:"submit",className:"btn btn-primary btn-block",children:"Submit"}),Object(m.jsxs)("p",{className:"text-right",children:["Already signed up to Veed?",Object(m.jsx)(v.a,{variant:"link",onClick:function(){return p("login")},children:"Please Log In"})]})]})})})},ae=function(e){var t="/bridge",n="/login",s="/logout",a="/ttt",c="/addition",u=function(){return!!P.getCurrentUser()},b=Object(r.useState)(u()),f=Object(h.a)(b,2),p=f[0],O=f[1],v=function(){console.log("Logged in, signed up, or logged out"),O(u()),e.history.goBack()};return Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsxs)(d.a,{bg:"light",expand:"lg",children:[Object(m.jsx)(d.a.Brand,{href:"#home",children:"Veed"}),Object(m.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsxs)(j.a,{className:"mr-auto",children:[Object(m.jsx)(j.a.Link,{as:o.b,to:"/",children:"Home"}),Object(m.jsx)(j.a.Link,{as:o.b,to:t,children:"Bridge"}),Object(m.jsxs)(g.a,{title:"Puzzles",id:"basic-nav-dropdown",children:[Object(m.jsx)(g.a.Item,{as:o.b,to:a,children:"TicTacToe"}),Object(m.jsx)(g.a.Item,{href:"#action/3.3",children:"15 Puzzle"}),Object(m.jsx)(g.a.Item,{as:o.b,to:c,children:"Addition"})]}),p?Object(m.jsx)(j.a.Link,{as:o.b,to:s,children:"Logout"}):Object(m.jsx)(j.a.Link,{as:o.b,to:n,children:"Login"})]})})]}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{path:c,component:x}),Object(m.jsx)(l.a,{path:a,component:X}),Object(m.jsx)(l.a,{path:t,component:re}),Object(m.jsx)(l.a,{path:n,render:function(){return Object(m.jsx)(se,{loginHandler:v,signupHandler:v})}}),Object(m.jsx)(l.a,{path:s,render:function(){return Object(m.jsx)(ie,{logoutHandler:v})}}),Object(m.jsx)(l.a,{exact:!0,path:"/",component:H})]})]})},ce=function(e){return Object(m.jsx)(o.a,{children:Object(m.jsxs)(c.a,{children:[Object(m.jsx)(u.a,{}),Object(m.jsx)(l.a,{component:ae})]})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,127)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),s(e),a(e)}))};a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(ce,{})}),document.getElementById("root")),oe()},80:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.22a70611.chunk.js.map