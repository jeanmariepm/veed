{"version":3,"sources":["puzzles/addition/addition.jsx","api/http.js","api/auth.js","nav/home.jsx","puzzles/ttt/square.jsx","puzzles/ttt/game.js","puzzles/ttt/tictactoe.jsx","bridge/deal.js","bridge/gifs/suitImage.jsx","bridge/gifs/s.gif","bridge/gifs/h.gif","bridge/gifs/d.gif","bridge/gifs/c.gif","bridge/hand.jsx","bridge/auction.jsx","bridge/undoBid.jsx","bridge/bidBox.jsx","bridge/convention/NT.js","bridge/convention/minors.js","bridge/convention/majors.js","bridge/agent.js","bridge/dealControl.jsx","api/bridgeApi.js","nav/login.jsx","bridge/bridge.jsx","nav/logout.jsx","common/tableHeader.jsx","common/tableBody.jsx","common/table.jsx","common/pagination.jsx","common/paginate.js","common/listGroup.jsx","bridge/dealsTable.jsx","nav/menu.jsx","nav/veed.jsx","reportWebVitals.js","index.js"],"names":["Addition","props","startOver","setState","state","score","inputKeyPress","event","key","parseInt","response","num1","num2","Math","ceil","random","incorrect","updateResponse","target","value","imageURL","this","renderWinnerScreen","renderProblem","className","src","alt","id","Button","onClick","onKeyPress","onChange","autoFocus","Component","axios","interceptors","use","error","status","console","toast","Promise","reject","http","get","post","put","delete","apiUrl","window","location","hostname","origin","tokenKey","loggedInUserName","jwt","a","token","headers","Authorization","result","data","username","localStorage","setItem","log","auth","login","password","callback","loginURL","signup","signupURL","logout","removeItem","getCurrentUser","getItem","exp","jwtDecode","loginWithJwt","ex","getJwt","Home","userName","Fragment","role","href","Square","styles","backgroundColor","fontSize","width","height","margin","borderRadius","game","handler","index","getValue","squares","style","disabled","getDisabled","Game","bestVal","X","O","Array","fill","calculateWinner","filter","s","length","lines","i","b","c","player","action","minmax","findIndex","sq","winner","depth","nextPlayer","gameOver","getWinningMove","nextVal","lossVal","lossAction","repeat","TicTacToe","clickHandler","setAction","getWinner","getAIAction","isOver","renderGameScreen","renderSquare","Deal","hands","shuffle","dealer","vul","floor","card","cards","deal","j","S","H","D","C","k","splice","indexOf","push","getBridgeDeal","bridgeDeal","map","suit","sort","cardString","getBridgeChar","ch","0","1","2","3","4","5","6","7","8","9","10","11","12","images","SuitImage","Hand","name","fontFamily","textAlign","fontWeight","maxHeight","display","marginLeft","zoon","showBids","bids","aiBid","biddingOver","bidMap","row","idx","Row","_","slice","bid","cidx","Col","maxWidth","title","aria-hidden","Auction","Card","Body","p","UndoBid","onUndoBid","variant","size","BidBox","placeBid","undoBid","goingBid","allowUndo","doubleOption","useState","setBid","onPickBid","bidReverseMap","onPlaceBid","onRetryBid","Pass","Dbl","RDbl","XX","showBiddingButtons","all","options","minLevel","charAt","Container","option","xs","level","Modal","Dialog","Header","Title","Footer","NT","getOpening","agent","shape","inRange","totalPoints","getOvercall","biddingContext","oppSuits","haveStopper","getResponse","rhoBid","includes","longestLength","longestSuit","spadeLength","heartLength","clubLength","diamondLength","ltc","adjustedtotalPoints","getOpenerRebid","openingBid","pdBid","pdSuit","maxHand","getResponderRebid","pdLevel","prevSuit","Minors","rhoLevel","match","rhoSuit","bidLevel","fit","majorsToBid","majorToBid","has","haveStoppers","Majors","goodToOvercall","secondSuit","pdRole","bidSuit","openingSuit","secondLength","raiseLevel","prevBid","prevLevel","openingLevel","suitToBid","majorFit","aiLevel","getPassCorrect","pdSuitLength","openingSuitLength","Agent","hand","get2CBid","hcp","getPreemptBid","suitMap","distribution","evaluateHand","getTwoLongest","search","ltcCards","replace","min","shapeLengths","groupBy","topCards","max","longestIndex","remainingDist","secondIndex","dblRdbl","bidderRole","assert","getBidderRoles","getGoingBid","gb","pgb","priorGoingBid","priorDblRdbl","getOppSuits","suits","Set","add","bc","getBiddingContext","getOpeningBid","getTODouble","getPreemptOvercall","oppSuitssuit","getResponseBid","get2CResponse","getWeak2Response","supportLength","DealControl","saveDeal","nextDeal","doneDeal","practiceMode","request","bridgeApi","auction","getDeals","Login","loginHandler","signupHandler","setUserName","setPassword","formName","setFormrName","handleLogin","e","preventDefault","handleSignup","onSubmit","htmlFor","type","autoComplete","playerNames","Bridge","startDeal","begin","setHands","JSON","parse","agents","getHand","getDealer","getBid","needsLogin","history","goBack","stringify","pop","l","getDoubleOption","lastBid","partnerBid","lhoBid","signipHandler","showHands","bidder","seat","fluid","showOneHand","Logout","logoutHandler","handleLogout","readOnly","TableHeader","raiseSort","path","sortColumn","order","onSort","renderSortIcon","column","columns","label","TableBody","renderCell","item","content","createKey","Table","Pagination","itemsCount","pageSize","currentPage","onPageChange","pagesCount","pages","range","page","paginate","items","pageNumber","startIndex","take","ListGroup","textProperty","valueProperty","selectedItem","onItemSelect","defaultProps","DealsTable","deals","users","selectedUser","handlePageChange","handleUserSelect","user","handleSort","getUniqueUsers","forEach","userObjects","u","userObject","to","pathname","getPagedData","allDeals","filtered","m","orderBy","totalCount","Menu","bridgePath","dealsPath","loginPath","logoutPath","tttPath","additionPath","nowLoggedIn","loggedIn","setLoggedIn","Navbar","bg","expand","Brand","Toggle","aria-controls","Collapse","Nav","Link","as","NavDropdown","Item","component","render","exact","Veed","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9f682de7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\n\nclass Addition extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      num1: 1,\n      num2: 1,\n      response: \"\",\n      score: 0,\n      incorrect: false,\n      imageURL: \"https://picsum.photos/100\",\n    };\n  }\n\n  render() {\n    if (this.state.score === 2) {\n      return this.renderWinnerScreen();\n    } else {\n      return this.renderProblem();\n    }\n  }\n\n  renderWinnerScreen() {\n    return (\n      <div className=\"app\">\n        <img src={this.state.imageURL} alt=\"\" />\n        <div id=\"winner\">You won!</div>\n        <Button onClick={this.startOver}>Start Over</Button>\n      </div>\n    );\n  }\n\n  startOver = () => {\n    this.setState((state) => ({\n      score: 0,\n    }));\n  };\n\n  renderProblem() {\n    return (\n      <div className=\"app\">\n        <h1>Addition</h1>\n        <div className={this.state.incorrect ? \"incorrect\" : \"\"} id=\"problem\">\n          {this.state.num1} + {this.state.num2}\n        </div>\n        <input\n          onKeyPress={this.inputKeyPress}\n          onChange={this.updateResponse}\n          autoFocus={true}\n          value={this.state.response}\n        />\n        <div>Score: {this.state.score}</div>\n      </div>\n    );\n  }\n\n  inputKeyPress = (event) => {\n    if (event.key === \"Enter\") {\n      const answer = parseInt(this.state.response);\n      if (answer === this.state.num1 + this.state.num2) {\n        // User got question right\n        this.setState((state) => ({\n          score: state.score + 1,\n          response: \"\",\n          num1: Math.ceil(Math.random() * 10),\n          num2: Math.ceil(Math.random() * 10),\n          incorrect: false,\n        }));\n      } else {\n        // User got question wrong\n        this.setState((state) => ({\n          score: state.score - 1,\n          incorrect: true,\n          response: \"\",\n        }));\n      }\n    }\n  };\n\n  updateResponse = (event) => {\n    this.setState({\n      response: event.target.value,\n    });\n  };\n}\n\nexport default Addition;\n","import axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nconst apiUrl = () =>\n  window.location.hostname === \"localhost\"\n    ? \"http://localhost:8000\"\n    : window.location.origin;\n\naxios.interceptors.response.use(null, (error) => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    console.error(error);\n    toast.error(\"An unexpected error occurrred.\");\n  }\n\n  return Promise.reject(error);\n});\n\nconst http = {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n  apiUrl,\n};\n\nexport default http;\n","import jwtDecode from \"jwt-decode\";\nimport http from \"./http\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nconst tokenKey = \"token\";\nlet loggedInUserName = null;\n\nconst login = async (username, password, callback) => {\n  const loginURL = http.apiUrl() + \"/login/\";\n  try {\n    const { data: result } = await http.post(loginURL, {\n      username,\n      password,\n    });\n\n    localStorage.setItem(tokenKey, result.token);\n    loggedInUserName = username;\n    callback();\n  } catch (ex) {\n    console.log(\"Login failure!\", ex);\n    toast(\"Login failed. Please try again\");\n  }\n};\nconst signup = async (username, password, callback) => {\n  const signupURL = http.apiUrl() + \"/signup/\";\n  try {\n    const { data: result } = await axios.post(signupURL, {\n      username,\n      password,\n    });\n    localStorage.setItem(tokenKey, result.token);\n    loggedInUserName = username;\n    callback();\n  } catch (ex) {\n    console.log(\"Signup failure!\", ex);\n    toast(\"Signup failed. Please try again\");\n  }\n};\n\nasync function loginWithJwt(jwt) {\n  try {\n    const { data: result } = await axios.post(\n      http.apiUrl() + \"/refresh_token/\",\n      { token: jwt },\n      {\n        headers: { Authorization: \"JWT \" + jwt },\n      }\n    );\n    if (result.token) {\n      loggedInUserName = result.username;\n      localStorage.setItem(tokenKey, result.token);\n    } else {\n      console.log(\"Need to login again\");\n    }\n  } catch (ex) {\n    if (ex.response.status > 400) {\n      console.error(ex.response);\n      console.log(\"Need to login again\");\n    }\n  }\n}\n\nconst logout = (callback) => {\n  localStorage.removeItem(tokenKey);\n  loggedInUserName = null;\n  callback();\n};\n\nconst getJwt = () => {\n  return localStorage.getItem(tokenKey);\n};\nconst getCurrentUser = () => {\n  if (loggedInUserName) return loggedInUserName;\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    if (!jwt) return null;\n    const exp = jwtDecode(jwt).exp;\n    const expRolerance = 1000 * 60 * 60 * 4;\n    if (exp < expRolerance) {\n      loginWithJwt(jwt);\n    } else {\n      loggedInUserName = jwtDecode(jwt).username;\n    }\n    return loggedInUserName;\n  } catch (ex) {\n    console.log(\"Nothing in jwt\");\n    return null;\n  }\n};\n\nconst auth = {\n  login,\n  signup,\n  logout,\n  getCurrentUser,\n  getJwt,\n};\n\nexport default auth;\n","import React from \"react\";\nimport auth from \"../api/auth\";\n\nconst Home = () => {\n  const userName = auth.getCurrentUser();\n  return (\n    <React.Fragment>\n      {!userName ? (\n        <React.Fragment>\n          <h2>Hello, Guest!</h2>\n          <div className=\"alert alert-dark\" role=\"alert\">\n            To fully explore the site, register. <br />\n            If you have already registered, please login\n          </div>\n          <div className=\"alert alert-dark\" role=\"alert\">\n            This is not a secure site. <br />\n            Do NOT provide any sensitive or confidential data\n          </div>\n        </React.Fragment>\n      ) : (\n        <h2>Welcome back, {userName}</h2>\n      )}\n      <div className=\"alert alert-dark\" role=\"alert\">\n        If you have just been introduced to the game of Bridge, you can practice\n        bidding and get feedback from an AI\n      </div>\n      <div className=\"alert alert-dark\" role=\"alert\">\n        This site is built with Django and React. <br />\n        It is the developer's playground for experimentation. <br />\n        You are welcome to access\n        <a href=\"https://github.com/jeanmariepm/veed.git\"> the source code</a>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\n\nclass Square extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      game: props.game,\n      handler: props.onClick,\n      index: props.index,\n    };\n  }\n\n  getDisabled() {\n    const value = this.getValue();\n    return value === null ? false : true;\n  }\n  getValue() {\n    return this.state.game.squares[this.state.index];\n  }\n  styles = {\n    backgroundColor: \"blue\",\n    fontSize: 14,\n    width: 50,\n    height: 50,\n    margin: 2,\n    borderRadius: 4,\n  };\n  render() {\n    return (\n      <Button\n        style={this.styles}\n        disabled={this.getDisabled()}\n        onClick={() => this.state.handler()}\n      >\n        <strong>{this.getValue()}</strong>\n      </Button>\n    );\n  }\n}\nexport default Square;\n","class Game {\n  constructor() {\n    this.squares = Array(9).fill(null);\n  }\n\n  getWinner() {\n    return this.calculateWinner(this.squares);\n  }\n\n  isOver() {\n    if (this.squares.filter((s) => s === null).length === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  calculateWinner(squares) {\n    const lines = [\n      [0, 1, 2],\n      [3, 4, 5],\n      [6, 7, 8],\n      [0, 3, 6],\n      [1, 4, 7],\n      [2, 5, 8],\n      [0, 4, 8],\n      [2, 4, 6],\n    ];\n    for (let i = 0; i < lines.length; i++) {\n      const [a, b, c] = lines[i];\n      if (\n        squares[a] !== null &&\n        squares[a] === squares[b] &&\n        squares[a] === squares[c]\n      ) {\n        //console.log(\"Found a winner:\", squares[a], squares);\n        return squares[a];\n      }\n    }\n    return null;\n  }\n\n  setAction(player, action) {\n    this.squares[action] = player;\n  }\n\n  getAIAction() {\n    // return center or top-left in first AI move\n    if (this.squares.filter((s) => s === \"X\").length === 1) {\n      if (!this.squares[4]) {\n        return 4;\n      } else if (!this.squares[0]) {\n        return 0;\n      }\n    }\n    // use minmax algorithm\n    // find action with least value by choosing opp's action with highest value\n\n    let [, action] = this.minmax(this.squares, \"O\");\n    if (action === -1) {\n      console.log(\"giving up?\");\n      action = this.squares.findIndex((s) => s === null);\n    }\n    return action;\n  }\n\n  bestVal = { X: 1, O: -1 };\n  getWinningMove(squares, player) {\n    let sq = [...squares];\n    for (let i = 0; i < squares.length; i++) {\n      if (!squares[i]) {\n        sq[i] = player;\n        const winner = this.calculateWinner(sq);\n        sq[i] = squares[i];\n        if (winner === player) {\n          return [this.bestVal[player], i];\n        }\n      }\n    }\n\n    return [null, null];\n  }\n\n  minmax(squares, player, depth = 0) {\n    //console.log(`${\"*\".repeat(depth)} minmax exploring ${squares} ${player}`);\n    const nextPlayer = player === \"X\" ? \"O\" : \"X\";\n\n    // no empty squares => game is tied\n    let gameOver = true;\n    for (let i = 0; i < squares.length; i++) if (!squares[i]) gameOver = false;\n    if (gameOver) return [0, -1];\n\n    // see if there's an immediate winning move\n    let [nextVal, action] = this.getWinningMove(squares, player);\n    if (nextVal === this.bestVal[player]) return [nextVal, action];\n\n    // pick the best remaining option\n    let sq = [...squares];\n    let [lossVal, lossAction] = [this.bestVal[nextPlayer], -1];\n    for (let i = 0; i < squares.length; i++) {\n      if (!squares[i]) {\n        sq[i] = player;\n        depth < 0 &&\n          console.log(\n            `${\"*\".repeat(depth)} minmax considering ${i} for ${player}`\n          );\n        [nextVal, action] = this.minmax(sq, nextPlayer, depth + 1);\n        depth < 0 &&\n          console.log(\n            `${\"*\".repeat(\n              depth\n            )} minmax considered ${i} for ${player} and got ${nextVal},${action}`\n          );\n        sq[i] = squares[i];\n        if (nextVal === this.bestVal[player]) return [nextVal, i];\n        if (nextVal === 0) [lossVal, lossAction] = [nextVal, i];\n      }\n    }\n    // we have a tie if we are here\n    return [lossVal, lossAction];\n  }\n}\n\nexport default Game;\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport Square from \"./square\";\nimport Game from \"./game\";\n\nclass TicTacToe extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      game: new Game(),\n    };\n  }\n\n  startOver = () => {\n    this.setState({\n      game: new Game(),\n    });\n  };\n\n  renderSquare(i) {\n    return (\n      <Square\n        game={this.state.game}\n        index={i}\n        onClick={() => this.clickHandler(i)}\n      />\n    );\n  }\n\n  clickHandler(i) {\n    this.state.game.setAction(\"X\", i);\n\n    // const game = { ...this.state.gane };\n    if (this.state.game.getWinner()) {\n      console.log(`Disabling clickHandler as we have a winners `);\n    } else {\n      const action = this.state.game.getAIAction();\n      console.log(`AI recommends: ${action}`);\n      this.state.game.setAction(\"O\", action);\n    }\n    this.setState({\n      game: this.state.game,\n    });\n  }\n\n  renderWinnerScreen(winner) {\n    return (\n      <div className=\"app\">\n        <div id=\"winner\">{winner} won!</div>\n        <Button onClick={this.startOver}>Start Over</Button>\n      </div>\n    );\n  }\n\n  render() {\n    let winner;\n    if (this.state.game.isOver()) {\n      winner = \"Nobody\";\n    } else if (this.state.game.getWinner()) {\n      winner = this.state.game.getWinner();\n    }\n    if (winner) {\n      return this.renderWinnerScreen(winner);\n    }\n    return this.renderGameScreen();\n  }\n\n  renderGameScreen() {\n    return (\n      <div className=\"App\">\n        <div>\n          <h1>Tic Tac Toe</h1>\n        </div>\n        <div className=\"BoardSquare\">\n          <div className=\"board-row\">\n            {this.renderSquare(0)}\n            {this.renderSquare(1)}\n            {this.renderSquare(2)}\n          </div>\n          <div className=\"board-row\">\n            {this.renderSquare(3)}\n            {this.renderSquare(4)}\n            {this.renderSquare(5)}\n          </div>\n          <div className=\"board-row\">\n            {this.renderSquare(6)}\n            {this.renderSquare(7)}\n            {this.renderSquare(8)}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TicTacToe;\n","class Deal {\n  constructor() {\n    this.hands = this.shuffle();\n\n    this.dealer = 3; // hard coded for now\n    // Math.floor(Math.random() * 4);\n    this.vul = Math.floor(Math.random() * 4);\n  }\n  setHands(hands) {\n    this.hands = hands;\n  }\n  shuffle() {\n    let cards = [];\n    for (let i = 0; i < 52; i++) {\n      cards[i] = i;\n    }\n    let card;\n    let deal = [];\n\n    for (let j = 0; j < 4; j++) {\n      let player = { S: [], H: [], D: [], C: [] };\n      for (let k = 0; k < 13; k++) {\n        card = cards[Math.floor(Math.random() * cards.length)];\n        cards.splice(cards.indexOf(card), 1);\n        if (card < 13) player[\"S\"].push(card);\n        else if (card < 26) player[\"H\"].push(card);\n        else if (card < 39) player[\"D\"].push(card);\n        else if (card < 52) player[\"C\"].push(card);\n      }\n      deal.push(player);\n    }\n\n    return this.getBridgeDeal(deal);\n  }\n\n  getBridgeDeal(deal) {\n    let bridgeDeal = [];\n    for (let j = 0; j < 4; j++) {\n      bridgeDeal[j] = { S: [], H: [], D: [], C: [] };\n      [\"S\", \"H\", \"D\", \"C\"].map((suit) => {\n        bridgeDeal[j][suit] = deal[j][suit].sort((a, b) => {\n          return b - a;\n        });\n        let cardString = \"\";\n        for (let i = 0; i < bridgeDeal[j][suit].length; i++) {\n          cardString += this.getBridgeChar(bridgeDeal[j][suit][i]);\n        }\n        bridgeDeal[j][suit] = cardString;\n        return bridgeDeal[j];\n      });\n    }\n    return bridgeDeal;\n  }\n\n  getBridgeChar(ch) {\n    const bridgeMap = {\n      0: \"2\",\n      1: \"3\",\n      2: \"4\",\n      3: \"5\",\n      4: \"6\",\n      5: \"7\",\n      6: \"8\",\n      7: \"9\",\n      8: \"T\",\n      9: \"J\",\n      10: \"Q\",\n      11: \"K\",\n      12: \"A\",\n    };\n\n    return bridgeMap[ch % 13];\n  }\n  getHand(player) {\n    return this.hands[player];\n  }\n  getDealer() {\n    return this.dealer;\n  }\n}\n\nexport default Deal;\n","import React from \"react\";\nimport S from \"./s.gif\";\nimport H from \"./h.gif\";\nimport D from \"./d.gif\";\nimport C from \"./c.gif\";\n\nconst images = { S, H, D, C };\nconst SuitImage = ({ suit }) => (\n  <React.Fragment>\n    <img src={images[suit]} alt={suit} />\n  </React.Fragment>\n);\n\nexport default SuitImage;\n","export default \"data:image/gif;base64,R0lGODlhDQALALMAAAAAAL8AAAC/AL+/AAAAv78AvwC/v8DAwICAgP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAAcALAAAAAANAAsAAAQc8MgJprUgX5z17uAFjtRIHuaZhpJXoa/ofeYUAQA7\"","export default \"data:image/gif;base64,R0lGODlhDQALALMAAAAAAL8AAAC/AL+/AAAAv78AvwC/v8DAwICAgP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAAcALAAAAAANAAsAAAQd8JxE5ayS6ru5/kkGguLYeaRlYupovenbhrJMvxEAOw==\"","export default \"data:image/gif;base64,R0lGODlhDQALALMAAAAAAL8AAAC/AL+/AAAAv78AvwC/v8DAwICAgP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAAcALAAAAAANAAsAAAQa8MiZprUpX5z17uAFjtRISmYnmttxtmpLbREAOw==\"","export default \"data:image/gif;base64,R0lGODlhDQALALMAAAAAAL8AAAC/AL+/AAAAv78AvwC/v8DAwICAgP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAAcALAAAAAANAAsAAAQe8EgJ6ry0Wpw1nx63ARnokRp5pOx4riFMleJWs1MEADs=\"","import React from \"react\";\nimport SuitImage from \"./gifs/suitImage\";\n\nconst Hand = ({ cards, name }) => {\n  const suits = [\"S\", \"H\", \"D\", \"C\"];\n\n  return (\n    <React.Fragment>\n      <h5>{name}</h5>\n      {suits.map((suit) => {\n        return (\n          <h6 key={suit}>\n            <SuitImage suit={suit} />\n            {cards && cards[suit]}\n            &nbsp;\n          </h6>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\nexport default Hand;\n","import React from \"react\";\nimport { Card, Row, Col } from \"react-bootstrap\";\n\nimport _ from \"lodash\";\n\nconst styles = {\n  fontFamily: [\"Courier New\", \"Courier\", \"monospace\"],\n  textAlign: \"center\",\n  fontWeight: \"bolder\",\n  fontSize: \"small\",\n  maxHeight: \"fit-content\",\n  display: \"inline-block\",\n  marginLeft: \"2%\",\n  zoon: 1,\n};\nconst showBids = (dealer, bids, aiBid, biddingOver) => {\n  for (let b = 0; b < dealer; b++) bids = [\"\", ...bids];\n  bids = [...bids, biddingOver ? \"-\" : aiBid ? \"i\" : \"?\"];\n\n  const bidMap = {\n    \"\": \"-\",\n    \"1T\": \"1NT\",\n    \"2T\": \"2NT\",\n    \"3T\": \"3NT\",\n    \"4T\": \"4NT\",\n    \"5T\": \"5NT\",\n    \"6T\": \"6NT\",\n    \"7T\": \"7NT\",\n  };\n  aiBid = bidMap[aiBid] || aiBid;\n\n  return (\n    <React.Fragment>\n      {bids.map((row, idx) => {\n        return (\n          <div key={idx}>\n            {idx % 4 === 0 && (\n              <Row key={idx}>\n                {_.slice(bids, idx, idx + 4).map((bid, cidx) => {\n                  return (\n                    <Col key={cidx} style={{ maxWidth: 3 }}>\n                      {bid === \"i\" ? (\n                        <i\n                          className=\"fa fa-info\"\n                          title={aiBid}\n                          aria-hidden=\"true\"\n                        ></i>\n                      ) : (\n                        <div style={styles}>{bidMap[bid] || bid}</div>\n                      )}\n                    </Col>\n                  );\n                })}\n              </Row>\n            )}\n          </div>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\nconst Auction = ({ title, dealer, bids, aiBid, biddingOver }) => {\n  console.log(aiBid);\n  return (\n    <Card>\n      <Card.Body>\n        <Row>{title}</Row>\n\n        <Row>\n          {[\"W\", \"N\", \"E\", \"S\"].map((p, idx) => {\n            return (\n              <Col key={idx} style={{ maxWidth: 3 }}>\n                <div style={styles}>{p}</div>\n              </Col>\n            );\n          })}\n        </Row>\n        {showBids(dealer, bids, aiBid, biddingOver)}\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default Auction;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\n\nconst UndoBid = ({ onUndoBid }) => {\n  return (\n    <Button variant=\"secondary\" size=\"sm\" onClick={onUndoBid}>\n      Undo last bid\n    </Button>\n  );\n};\n\nexport default UndoBid;\n","import React, { useState } from \"react\";\nimport { Button, Container, Row, Modal } from \"react-bootstrap\";\nimport UndoBid from \"./undoBid\";\n\nconst BidBox = ({\n  placeBid,\n  undoBid,\n  goingBid,\n  allowUndo,\n  doubleOption,\n  aiBid,\n}) => {\n  const [bid, setBid] = useState(\"\");\n  const styles = {\n    fontFamily: [\"Courier New\"],\n    fontSize: \"large\",\n  };\n  const onPickBid = (event, aiBid) => {\n    const bid = event.target.value;\n    console.log(\"onPickBid\", bid, aiBid);\n    if (bid === \"Skip\") {\n      setBid(bid);\n      return;\n    }\n    if (aiBid && (bidReverseMap[bid] || bid) !== aiBid) {\n      setBid(bid);\n      return;\n    } else {\n      console.log(\"Place bid:\", bid, aiBid);\n      placeBid(bidReverseMap[bid] || bid);\n      setBid(\"\");\n      return;\n    }\n  };\n  const onPlaceBid = () => {\n    placeBid(bidReverseMap[bid] || bid);\n    setBid(\"\");\n  };\n\n  const onRetryBid = () => {\n    setBid(\"\");\n  };\n  const onUndoBid = () => {\n    undoBid();\n    setBid(\"\");\n  };\n\n  const bidReverseMap = {\n    Pass: \"P\",\n    \"1NT\": \"1T\",\n    \"2NT\": \"2T\",\n    \"3NT\": \"3T\",\n    \"4NT\": \"4T\",\n    \"5NT\": \"5T\",\n    \"6NT\": \"6T\",\n    \"7NT\": \"7T\",\n    Dbl: \"X\",\n    RDbl: \"XX\",\n  };\n  const bidMap = {\n    \"\": \"-\",\n    \"1T\": \"1NT\",\n    \"2T\": \"2NT\",\n    \"3T\": \"3NT\",\n    \"4T\": \"4NT\",\n    \"5T\": \"5NT\",\n    \"6T\": \"6NT\",\n    \"7T\": \"7NT\",\n    X: \"Dbl\",\n    XX: \"RDbl\",\n  };\n\n  const showAllBiddingOptions = () => {\n    return (\n      <Modal.Dialog>\n        <Modal.Header>\n          <Modal.Title>Make your bid</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{showBiddingButtons(true)}</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={onRetryBid}>\n            Cancel\n          </Button>\n        </Modal.Footer>\n      </Modal.Dialog>\n    );\n  };\n\n  const showConfirmPane = () => {\n    return (\n      <Modal.Dialog>\n        <Modal.Header>\n          <Modal.Title>Check your bid</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Row>Your bid: {bid}</Row>\n          <Row> AI says: {bidMap[aiBid] || aiBid}</Row>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={onRetryBid}>\n            Retry\n          </Button>\n          <Button variant=\"primary\" onClick={onPlaceBid}>\n            Confirm Bid\n          </Button>\n        </Modal.Footer>\n      </Modal.Dialog>\n    );\n  };\n  const showBiddingButtons = (all = false) => {\n    let options = [\"Pass\"];\n    if (doubleOption) options.push(bidMap[doubleOption]);\n    options.push(\"Skip\");\n    const minLevel = goingBid ? goingBid.charAt(0) - \"0\" : 1;\n\n    return (\n      <Container style={styles}>\n        <Row>\n          {options.map((option, idx) => (\n            <div key={idx} xs={3}>\n              <Button\n                key={option}\n                onClick={(event) => onPickBid(event, aiBid)}\n                className=\"btn-sm m-0 p-0\"\n                variant={\n                  option === \"Pass\"\n                    ? \"success\"\n                    : option === \"Skip\"\n                    ? \"warning\"\n                    : \"danger\"\n                }\n                value={option}\n              >\n                {option}\n              </Button>\n              &nbsp;\n            </div>\n          ))}\n        </Row>\n        {[1, 2, 3, 4, 5, 6, 7].map((level) => (\n          <div key={level}>\n            {(all || (level >= minLevel && level <= minLevel + 1)) && (\n              <Row key={level}>\n                {[\"C\", \"D\", \"H\", \"S\", \"T\"].map((suit) => (\n                  <div key={suit}>\n                    {level + suit <= goingBid ? (\n                      <Button\n                        disabled\n                        className=\"btn-sm m-0 p-0\"\n                        style={{ height: 12 }}\n                        variant=\"link\"\n                        value={level + suit}\n                      >\n                        {bidMap[level + suit] || level + suit}\n                      </Button>\n                    ) : (\n                      <Button\n                        onClick={(event) => onPickBid(event, aiBid)}\n                        className=\"btn-sm m-0 p-0\"\n                        variant=\"success\"\n                        value={level + suit}\n                      >\n                        {bidMap[level + suit] || level + suit}\n                      </Button>\n                    )}\n                    &nbsp;\n                  </div>\n                ))}\n              </Row>\n            )}\n          </div>\n        ))}\n      </Container>\n    );\n  };\n\n  const showUndoOption = () => {\n    return (\n      <React.Fragment>\n        {allowUndo && <UndoBid onUndoBid={onUndoBid} />}\n      </React.Fragment>\n    );\n  };\n  const showBiddingPane = () => {\n    return (\n      <React.Fragment>\n        <div>{showBiddingButtons()}</div>\n        <div>{showUndoOption()}</div>\n      </React.Fragment>\n    );\n  };\n\n  if (!bid) return showBiddingPane();\n  if (bid === \"Skip\") return showAllBiddingOptions();\n  return showConfirmPane();\n};\n\nexport default BidBox;\n","import _ from \"lodash\";\n\nconst getOpening = (agent) => {\n  if (agent.shape === \"U\")\n    // unbalaced\n    return \"\";\n  if (_.inRange(agent.totalPoints, 15, 18)) return \"1T\";\n  if (_.inRange(agent.totalPoints, 20, 22)) return \"2T\";\n\n  return \"\";\n};\n\nconst getOvercall = (bids, biddingContext, agent) => {\n  let aiBid = \"\";\n  const { goingBid } = biddingContext;\n  const level = goingBid.charAt(0) - \"0\";\n  for (let suit of biddingContext.oppSuits) {\n    if (suit === \"T\") return \"\";\n    if (!agent.haveStopper(suit)) return \"\";\n  }\n  if (agent.shape === \"B\" && agent.totalPoints >= 18)\n    return level === 3 ? \"3T\" : level <= 2 ? \"X\" : \"\";\n  if (agent.shape === \"B\" && agent.totalPoints >= 15)\n    return level === 1 ? \"1T\" : level === 2 ? \"2T\" : \"\";\n  return aiBid;\n};\n\nconst getResponse = (bids, biddingContext, agent) => {\n  const rhoBid = bids[bids.length - 1];\n  const { goingBid } = biddingContext;\n  const level = goingBid.charAt(0) - \"0\";\n  const suit = goingBid.charAt(1);\n\n  if (![\"P\", \"X\", \"2C\"].includes(rhoBid))\n    if (agent.totalPoints >= 10) {\n      if (agent.longestLength > 5 && rhoBid < \"4S\")\n        if (agent.longestSuit > suit) return level + agent.longestSuit;\n        else return level + 1 + agent.longestSuit;\n      else return \"X\";\n    } else return \"\";\n\n  // Jacoby or Smolen\n  if (\n    agent.spadeLength === 5 &&\n    _.inRange(agent.totalPoints, 8, 10) &&\n    level === 1\n  )\n    return rhoBid === \"2C\" ? \"X\" : \"2C\"; //use Stayman to invite with a 5-cd Spade\n  if (agent.spadeLength >= 5 && agent.heartLength < 4) return level + 1 + \"H\";\n  if (agent.heartLength >= 5 && agent.spadeLength < 4) return level + 1 + \"D\";\n  if (agent.spadeLength >= 5 && agent.heartLength >= 5) {\n    if (level === 1) {\n      return agent.totalPoints >= 10 ? \"2H\" : \"2D\";\n    } else {\n      return agent.totalPoints >= 4 ? \"3H\" : \"3D\";\n    }\n  }\n  if (\n    agent.spadeLength >= 4 &&\n    agent.heartLength >= 4 &&\n    agent.spadeLength + agent.heartLength === 9\n  ) {\n    if (agent.totalPoints >= 10 && level === 1) return \"2C\"; //Smolen\n    if (agent.totalPoints >= 4 && level === 2) return \"3C\"; //Smolen\n    return agent.longestSuit === \"S\" ? level + 1 + \"H\" : level + 1 + \"D\";\n  }\n\n  // Stayman with 4-cd major\n  if (agent.spadeLength === 4 || agent.heartLength === 4) {\n    if (level === 1)\n      if (\n        agent.totalPoints >= 10 &&\n        agent.spadeLength + agent.heartLength !== 7\n      )\n        return rhoBid === \"2C\" ? \"X\" : \"2C\";\n      //use Stayman to invite with a 5-cd Spade\n      else if (agent.totalPoints >= 8) return \"2C\";\n    if (level === 2 && agent.totalPoints >= 4) return \"3C\";\n  }\n\n  // GF 3145 or 2155 or 3-cd major\n  if (level === 1 && agent.totalPoints >= 10) {\n    if (\n      agent.spadeLength === 1 &&\n      agent.heartLength === 3 &&\n      agent.longestLength === 5\n    )\n      return \"3S\";\n    if (\n      agent.spadeLength === 3 &&\n      agent.heartLength === 1 &&\n      agent.longestLength === 5\n    )\n      return \"3H\";\n    if (agent.spadeLength >= 3 || agent.heartLength >= 3) return \"3C\";\n    if (agent.clubLength === 5 && agent.diamondLength === 5) return \"3D\";\n  }\n\n  //Size ask with an invitational hand\n  if (level === 1 && _.inRange(agent.totalPoints, 8, 10)) return \"2S\";\n\n  // Minor suit transfer\n  if (level === 1 && agent.ltc <= 9) {\n    if (agent.clubLength >= 6) return \"2S\";\n    if (agent.diamondLength >= 6) return \"2T\";\n  }\n\n  // GF balanced\n  const adjustedtotalPoints = agent.totalPoints;\n  if (level === 1) {\n    if (10 <= adjustedtotalPoints <= 15) return \"3T\";\n    if (16 <= adjustedtotalPoints <= 17) return \"4T\";\n    if (18 <= adjustedtotalPoints <= 19) return \"6T\";\n    if (20 <= adjustedtotalPoints <= 21) return \"2S\";\n    if (22 <= adjustedtotalPoints) return \"7T\";\n  } else if (level === 2) {\n    if (5 <= adjustedtotalPoints <= 11) return \"3T\";\n    if (12 <= adjustedtotalPoints) return \"4T\";\n    if (13 <= adjustedtotalPoints <= 15) return \"6T\";\n    if (16 <= adjustedtotalPoints) return \"3S\";\n    if (17 <= adjustedtotalPoints) return \"7T\";\n  }\n\n  return \"P\";\n};\n\nconst getOpenerRebid = (bids, biddingContext, agent) => {\n  const openingBid = bids[bids.length - 4];\n  const pdBid = bids[bids.length - 2];\n  const pdSuit = pdBid.charAt(1);\n  const { spadeLength, heartLength, diamondLength, clubLength } = agent;\n  const maxHand = agent.totalPoints >= 16;\n  let aiBid = \"\";\n\n  if (openingBid === \"1T\") {\n    if (pdBid === \"2C\")\n      aiBid = heartLength >= 4 ? \"2H\" : spadeLength >= 4 ? \"2S\" : \"2D\";\n    if (!aiBid && pdBid <= \"2H\") aiBid = pdSuit === \"D\" ? \"2H\" : \"2S\";\n    if (pdBid === \"2S\") aiBid = maxHand ? \"3C\" : \"2T\";\n    if (pdBid === \"2T\") aiBid = maxHand && diamondLength >= 2 ? \"3D\" : \"3C\";\n    if (pdBid === \"3C\") {\n      aiBid =\n        heartLength >= 5\n          ? \"3H\"\n          : spadeLength >= 5\n          ? \"3S\"\n          : heartLength >= 4 || spadeLength >= 4\n          ? \"3D\"\n          : \"3T\";\n    }\n    if (pdBid === \"3D\") {\n      if (agent.haveStopper(\"H\") && agent.haveStopper(\"S\")) aiBid = \"3T\";\n      else\n        aiBid =\n          heartLength >= 5\n            ? \"3H\"\n            : spadeLength >= 5\n            ? \"3S\"\n            : diamondLength > clubLength\n            ? \"4D\"\n            : \"4C\";\n    }\n    if (pdBid === \"3H\") {\n      if (spadeLength >= 3) aiBid = \"3S\";\n      else if (agent.haveStopper(\"H\")) aiBid = \"3T\";\n      else aiBid = diamondLength > clubLength ? \"4D\" : \"4C\";\n    }\n    if (pdBid === \"3S\") {\n      if (spadeLength >= 3) aiBid = \"4H\";\n      else if (agent.haveStopper(\"S\")) aiBid = \"3T\";\n      else aiBid = diamondLength > clubLength ? \"4D\" : \"4C\";\n    }\n  } else {\n    //opening bid was 2T\n    if (pdBid === \"3C\")\n      aiBid = heartLength >= 4 ? \"3H\" : spadeLength >= 4 ? \"3S\" : \"3D\";\n    if (!aiBid && pdBid <= \"3H\") aiBid = pdSuit === \"D\" ? \"3H\" : \"3S\";\n    if (pdBid === \"3S\") {\n      aiBid = diamondLength <= clubLength && clubLength >= 4 ? \"4C\" : \"\";\n      if (!aiBid) aiBid = diamondLength >= 4 ? \"4D\" : \"3T\";\n    }\n  }\n  if ([\"3T\", \"6T\", \"7T\"].includes(pdBid)) aiBid = \"P\";\n  if (pdBid === \"4T\") aiBid = maxHand ? \"6T\" : \"P\";\n\n  return aiBid;\n};\n\nconst getResponderRebid = (bids, biddingContext, agent) => {\n  //pass with intervention after NT bid response\n  for (let i = bids.length - 1; i >= bids.length - 4; i -= 2) {\n    if (bids[i] !== \"P\") return \"\";\n  }\n  const { spadeLength, heartLength, diamondLength, clubLength } = agent;\n\n  const pdBid = bids[bids.length - 2];\n  const pdLevel = pdBid.charAt(0) - \"0\";\n  const pdSuit = pdBid.charAt(1);\n  const prevBid = bids[bids.length - 4];\n  const prevSuit = prevBid.charAt(1);\n\n  // pass game and slam bids\n  if ([\"3T\", \"4H\", \"4S\", \"5C\", \"5D\"].includes(pdBid)) return \"P\";\n  if (pdLevel >= 6) return \"P\";\n\n  // Stayman rebids\n  if (prevSuit === \"C\") {\n    // garbage\n    if (pdLevel === 2 && agent.totalPoints < 8) return \"P\";\n    if (pdLevel === 3 && agent.totalPoints < 4) return \"P\";\n\n    if (\n      (pdLevel === 2 && agent.totalPoints >= 10) ||\n      (pdLevel === 3 && agent.totalPoints >= 4)\n    ) {\n      //GF hands\n      if (pdSuit === \"D\" && spadeLength + heartLength === 9) {\n        //Smolen\n        return spadeLength === 5 ? \"3H\" : \"3S\";\n      }\n      if (pdSuit === \"H\") return heartLength >= 4 ? \"4H\" : \"3T\";\n      if (pdSuit === \"S\") return spadeLength >= 4 ? \"4S\" : \"3T\";\n    }\n    if (pdLevel === 2 && agent.totalPoints >= 8) {\n      // inv hands\n      if (pdSuit === \"D\") return spadeLength === 5 ? \"2S\" : \"2T\";\n      if (pdSuit === \"H\")\n        return heartLength >= 4 ? \"3H\" : spadeLength === 5 ? \"2S\" : \"2T\";\n      if (pdSuit === \"S\") return spadeLength >= 4 ? \"3S\" : \"2T\";\n    }\n  }\n\n  //Jacoby rebids\n  if ([\"D\", \"H\"].includes(prevSuit)) {\n    if (\n      (pdLevel === 2 && agent.totalPoints >= 10) ||\n      (pdLevel === 3 && agent.totalPoints >= 4)\n    ) {\n      //GF hands\n      if (pdSuit === \"H\" && heartLength > 5) return \"4H\";\n      if (pdSuit === \"S\" && spadeLength > 5) return \"4S\";\n      return \"3T\";\n    }\n    if (pdLevel === 2 && agent.totalPoints >= 8) {\n      if (pdSuit === \"H\" && heartLength > 5) return \"3H\";\n      if (pdSuit === \"S\" && spadeLength > 5) return \"3S\";\n      return \"2T\";\n    }\n    return \"P\";\n  }\n\n  return \"\";\n};\n\nconst NT = {\n  getOpening,\n  getOvercall,\n  getResponse,\n  getOpenerRebid,\n  getResponderRebid,\n};\n\nexport default NT;\n","import _ from \"lodash\";\n\nconst getOpening = (agent) => {\n  if (_.inRange(agent.totalPoints, 12, 22)) {\n    if (\n      agent.diamondLength === 4 &&\n      agent.clubLength === 5 &&\n      agent.totalPoints <= 15\n    )\n      return \"1D\";\n    return agent.diamondLength >= 4 && agent.diamondLength >= agent.clubLength\n      ? \"1D\"\n      : \"1C\";\n  }\n  return \"\";\n};\n\nconst getOvercall = (bids, biddingContext, agent) => {};\n\nconst getResponse = (bids, biddingContext, agent) => {\n  const rhoBid = bids[bids.length - 1];\n  const rhoLevel = rhoBid.match(/^\\d/);\n  const rhoSuit = rhoLevel ? rhoBid.charAt(1) : null;\n  const pdBid = bids[bids.length - 2];\n  const pdLevel = pdBid.charAt(0) - \"0\";\n  const pdSuit = pdBid.charAt(1);\n  const {\n    longestSuit,\n    longestLength,\n    spadeLength,\n    heartLength,\n    diamondLength,\n    clubLength,\n  } = agent;\n  const bidLevel = rhoSuit ? rhoLevel : pdLevel;\n  const fit =\n    (pdSuit === \"C\" && clubLength >= 5) ||\n    (pdSuit === \"D\" && diamondLength >= 4) ||\n    (pdSuit === \"H\" && heartLength >= 3) ||\n    (pdSuit === \"S\" && spadeLength >= 3);\n\n  let majorsToBid = [],\n    majorToBid = null;\n  if (!biddingContext.oppSuits.has(\"H\"))\n    if (heartLength >= 4) majorsToBid.push(\"H\");\n  if (!biddingContext.oppSuits.has(\"S\"))\n    if (spadeLength >= 4) majorsToBid.push(\"S\");\n\n  if (majorsToBid.length === 2) {\n    majorToBid =\n      spadeLength > heartLength\n        ? \"S\"\n        : spadeLength === heartLength && spadeLength > 4\n        ? \"S\"\n        : \"H\";\n  } else if (majorsToBid.length === 1) {\n    majorToBid = majorsToBid[0];\n  }\n\n  if (agent.totalPoints < 6) return \"P\";\n  if (majorToBid) {\n    if (rhoBid === \"P\" && bidLevel === 1) return bidLevel + majorToBid;\n    if (rhoSuit)\n      if (\n        (bidLevel === 1 && agent.totalPoints >= 8) ||\n        (bidLevel === 2 && agent.totalPoints >= 10) ||\n        (bidLevel === 3 && agent.totalPoints >= 12)\n      ) {\n        if (majorToBid === \"S\" && spadeLength >= 5)\n          return bidLevel + majorToBid;\n        if (majorToBid === \"H\" && heartLength >= 5)\n          return bidLevel + majorToBid;\n        if (majorsToBid.length === 2 && spadeLength === 4) return \"X\";\n        if (\n          bidLevel === 1 &&\n          majorToBid === \"H\" &&\n          heartLength === 4 &&\n          \"H\" < rhoSuit\n        )\n          return \"1H\";\n        if (\n          bidLevel === 1 &&\n          rhoSuit === \"H\" &&\n          majorToBid === \"S\" &&\n          heartLength === 4\n        )\n          return \"X\";\n      }\n  }\n\n  let haveStoppers = true;\n  for (let suit of biddingContext.oppSuits) {\n    if (!suit === \"T\") if (!agent.haveStopper(suit)) haveStoppers = false;\n  }\n\n  if (rhoBid === \"P\" && bidLevel === 1 && agent.totalPoints <= 10) {\n    if (haveStoppers && agent.shape === \"B\" && agent.totalPoints >= 8)\n      return \"1T\";\n    if (longestSuit === \"D\" && pdSuit !== \"D\") return \"1D\";\n    if (fit) return \"3\" + pdSuit;\n    return \"1T\";\n  }\n  if (rhoBid === \"P\" && bidLevel <= 2 && agent.totalPoints >= 11) {\n    if (haveStoppers && agent.shape === \"B\") return \"2T\";\n    if (fit && bidLevel === 1) return \"2\" + pdSuit;\n    if (longestLength >= 5) {\n      return bidLevel === 1 ? \"1\" + longestSuit : \"2\" + longestSuit;\n    }\n  }\n  if (rhoBid === \"X\" && agent.totalPoints >= 11) return \"XX\";\n};\n\nconst getOpenerRebid = (bids, biddingContext, agent) => {\n  return \"\";\n};\n\nconst getResponderRebid = (bids, biddingContext, agent) => {\n  //pass with intervention after response\n  for (let i = bids.length - 1; i >= bids.length - 4; i -= 2) {\n    if (bids[i] !== \"P\") return \"\";\n  }\n  const { spadeLength, heartLength, diamondLength, clubLength } = agent;\n\n  const pdBid = bids[bids.length - 2];\n  const pdLevel = pdBid.charAt(0) - \"0\";\n  const pdSuit = pdBid.charAt(1);\n  const prevBid = bids[bids.length - 4];\n  const prevSuit = prevBid.charAt(1);\n  const openingBid = bids[bids.length - 6];\n  const openingSuit = openingBid.charAt(1);\n\n  // pass game and slam bids\n  if ([\"3T\", \"4H\", \"4S\", \"5C\", \"5D\"].includes(pdBid)) return \"P\";\n  if (pdLevel >= 6) return \"P\";\n\n  return \"\";\n};\n\nconst Minors = {\n  getOpening,\n  getOvercall,\n  getResponse,\n  getOpenerRebid,\n  getResponderRebid,\n};\n\nexport default Minors;\n","import _ from \"lodash\";\n\nconst getOpening = (agent) => {\n  if (agent.spadeLength < 5 && agent.heartLength < 5) return \"\";\n  if (_.inRange(agent.totalPoints, 12, 22)) {\n    return agent.spadeLength >= agent.heartLength ? \"1S\" : \"1H\";\n  }\n  return \"\";\n};\n\nconst getOvercall = (bids, biddingContext, agent) => {\n  const { goingBid, oppSuits } = biddingContext;\n  const level = goingBid.charAt(0) - \"0\";\n  const suit = goingBid.charAt(1);\n\n  if (agent.totalPoints < 8 + 3 * (level - 1)) return \"\";\n\n  if (\n    !oppSuits.has(agent.longestSuit) &&\n    agent.goodToOvercall(agent.longestSuit)\n  ) {\n    if (agent.totalPoints >= 17) return \"X\";\n    if (level + agent.longestSuit > level + suit)\n      return level + agent.longestSuit;\n    return level + 1 + agent.longestSuit;\n  } else if (\n    !oppSuits.has(agent.secondSuit) &&\n    agent.goodToOvercall(agent.secondSuit)\n  ) {\n    if (agent.totalPoints >= 17) return \"X\";\n    if (level + agent.secondSuit > level + suit)\n      return level + agent.secondSuit;\n    return level + 1 + agent.secondSuit;\n  }\n  return \"\";\n};\n\nconst getResponse = (bids, biddingContext, agent) => {\n  const rhoBid = bids[bids.length - 1];\n  const rhoLevel = rhoBid.match(/^\\d/);\n  const rhoSuit = rhoLevel ? rhoBid.charAt(1) : null;\n  const { pdRole } = biddingContext;\n  const pdBid = bids[bids.length - 2];\n  const pdLevel = pdBid.charAt(0) - \"0\";\n  const pdSuit = pdBid.charAt(1);\n  const {\n    longestSuit,\n    longestLength,\n    spadeLength,\n    heartLength,\n    diamondLength,\n    clubLength,\n  } = agent;\n  const bidLevel = rhoSuit ? rhoLevel : pdLevel;\n  const bidSuit = rhoSuit ? rhoSuit : pdSuit;\n  let aiBid = \"\";\n  const fit =\n    (pdSuit === \"C\" && clubLength >= 5) ||\n    (pdSuit === \"D\" && diamondLength >= 4) ||\n    (pdSuit === \"H\" && heartLength >= 3) ||\n    (pdSuit === \"S\" && spadeLength >= 3);\n\n  if (agent.totalPoints < 5) return \"P\";\n  if (fit) {\n    if (pdRole === \"Opener\") {\n      if (agent.ltc <= 9)\n        aiBid = agent.ltc <= 7 ? \"4\" + pdSuit : 11 - agent.ltc + pdSuit;\n      if (agent.ltc === 10)\n        if (agent.totalPoints < 8) aiBid = \"1T\";\n        else if (agent.totalPoints < 11) aiBid = \"2\" + pdSuit;\n\n      if (aiBid > bidLevel + bidSuit) return aiBid;\n      else return rhoSuit ? \"X\" : \"P\";\n    } else {\n      //pfRole === \"Overcaller\"\n      if (agent.ltc <= 8) {\n        aiBid = agent.ltc <= 6 ? \"4\" + pdSuit : 10 - agent.ltc + pdSuit;\n        if (aiBid > bidLevel + bidSuit) return aiBid;\n        else return rhoSuit ? \"X\" : \"P\";\n      }\n    }\n  } else {\n    // no major fit\n    if (\n      (pdRole === \"Opener\" && agent.totalPoints >= 12) ||\n      (pdRole === \"Overcaller\" && agent.totalPoints >= 15)\n    ) {\n      // GF hands\n      if (longestLength >= 5 && (!rhoSuit || rhoLevel <= 2)) {\n        if (longestSuit > bidSuit) return bidLevel + longestSuit;\n        return bidLevel + 1 + longestSuit;\n      }\n      if (rhoBid === \"X\") return \"XX\";\n      if (longestSuit < 5 && !rhoSuit) return bidLevel + 1 + \"C\";\n      if (rhoSuit && rhoLevel <= 3)\n        return agent.haveStopper(rhoSuit) ? bidLevel + \"T\" : \"X\";\n    } else if (agent.totalPoints >= 6) {\n      aiBid = \"\";\n      if (longestLength >= 5) {\n        if (longestSuit > bidSuit) aiBid = bidLevel + longestSuit;\n        if (longestSuit < bidSuit) aiBid = bidLevel + 1 + longestSuit;\n        if (aiBid < \"1T\") return aiBid;\n        if (\n          aiBid < \"2T\" &&\n          agent.totalPoints >= 10 &&\n          longestSuit < pdSuit &&\n          rhoSuit\n        )\n          return aiBid;\n        if (aiBid && agent.totalPoints >= 8 && rhoSuit) return \"X\";\n      }\n      if (bidLevel === 1) {\n        if (spadeLength >= 4) return \"1S\" > bidLevel + bidSuit ? \"1S\" : \"P\";\n        if (rhoBid === \"P\" || agent.totalPoints >= 8)\n          return \"1T\" > bidLevel + bidSuit ? \"1T\" : \"P\";\n      }\n    } else return \"P\";\n  }\n};\n\nconst getOpenerRebid = (bids, biddingContext, agent) => {\n  const rhoBid = bids[bids.length - 1];\n  const openingBid = bids[bids.length - 4];\n  const openingSuit = openingBid.charAt(1);\n\n  const pdBid = bids[bids.length - 2];\n  const pdLevel = pdBid.charAt(0) - \"0\";\n  const pdSuit = pdBid.charAt(1);\n  const {\n    secondSuit,\n    secondLength,\n    spadeLength,\n    heartLength,\n    diamondLength,\n    clubLength,\n  } = agent;\n  let aiBid = \"\";\n\n  if (rhoBid !== \"P\") return aiBid;\n\n  if (pdLevel === 2 && pdSuit < openingSuit) {\n    // 2 over 1 GF\n    if (pdBid === \"2H\" && heartLength >= 3) return \"3H\";\n    aiBid =\n      openingSuit === \"H\" && heartLength >= 6\n        ? \"2H\"\n        : openingSuit === \"S\" && spadeLength >= 6\n        ? \"2S\"\n        : \"\";\n    if (aiBid) return aiBid;\n    if (secondLength >= 4) {\n      return \"2\" + secondSuit > pdBid ? \"2\" + secondSuit : \"3\" + secondSuit;\n    }\n    return \"2T\";\n  }\n  if ([\"1T\", \"1S\"].includes(pdBid)) {\n    if (pdSuit === \"S\") {\n      if (spadeLength >= 4) {\n        let raiseLevel = 8 - agent.ltc;\n\n        raiseLevel = raiseLevel > 4 ? 4 : raiseLevel < 2 ? 2 : raiseLevel;\n        return raiseLevel + \"S\";\n      }\n      if (agent.shape === \"B\" && agent.totalPoints <= 17) return \"1T\";\n    }\n    if (agent.shape === \"B\" && agent.totalPoints <= 13) return \"P\";\n    aiBid =\n      openingSuit === \"H\" && heartLength >= 6\n        ? \"2H\"\n        : openingSuit === \"S\" && spadeLength >= 6\n        ? \"2S\"\n        : \"\";\n    if (aiBid) return agent.totalPoints <= 17 ? aiBid : \"3\" + openingSuit;\n    if (secondLength >= 4 && secondSuit < openingSuit)\n      return agent.totalPoints <= 17 ? \"2\" + secondSuit : \"3\" + secondSuit;\n    if (secondLength >= 4 && secondSuit === \"S\" && agent.totalPoints >= 17)\n      return \"2S\";\n    if (clubLength >= 2) return \"2C\";\n    return \"2D\";\n  }\n\n  return aiBid;\n};\n\nconst getResponderRebid = (bids, biddingContext, agent) => {\n  //pass with intervention after response\n  for (let i = bids.length - 1; i >= bids.length - 4; i -= 2) {\n    if (bids[i] !== \"P\") return \"\";\n  }\n  const {\n    spadeLength,\n    heartLength,\n    diamondLength,\n    clubLength,\n    longestSuit,\n    longestLength,\n  } = agent;\n\n  const pdBid = bids[bids.length - 2];\n  const pdLevel = pdBid.charAt(0) - \"0\";\n  const pdSuit = pdBid.charAt(1);\n  const prevBid = bids[bids.length - 4];\n  const prevSuit = prevBid.charAt(1);\n  const prevLevel = prevBid.charAt(0) - \"0\";\n\n  const openingBid = bids[bids.length - 6];\n  const openingSuit = openingBid.charAt(1);\n  const openingLevel = openingBid.charAt(0) - \"0\";\n\n  // pass game and slam bids\n  if ([\"3T\", \"4H\", \"4S\", \"5C\", \"5D\"].includes(pdBid)) return \"P\";\n  if (pdLevel >= 6) return \"P\";\n  let aiBid = \"\";\n\n  if (prevLevel === 2 && prevSuit < openingSuit) {\n    // 2 over 1 GF\n\n    if (openingSuit === pdSuit) {\n      //6-card suit\n      if (pdSuit === \"S\" && spadeLength >= 2) return \"3S\";\n      if (pdSuit === \"H\" && heartLength >= 2) return \"3H\";\n      if (pdSuit === \"D\") {\n        if (agent.haveStopper(\"H\"))\n          if (agent.haveStopper(\"S\")) return \"2T\";\n          else return \"2H\";\n        if (agent.haveStopper(\"S\")) return \"2S\";\n        if (diamondLength >= 2) return \"3D\";\n        else return \"3C\";\n      }\n    }\n    if (pdBid === \"2T\") {\n      if (openingSuit === \"S\" && spadeLength >= 3) return \"3S\";\n      if (openingSuit === \"H\" && heartLength >= 3) return \"3H\";\n      if (agent.secondLength >= 5) return \"3\" + agent.secondSuit;\n      if (agent.shape !== \"U\" && agent.totalPoints <= 12) return \"3T\";\n      if (agent.longestLength >= 6) return \"3\" + agent.longestSuit;\n      if (agent.longestSuit !== prevSuit) return \"3\" + agent.longestSuit;\n      return \"3\" + agent.secondSuit;\n    } else {\n      // new suit by partner\n      let suitToBid;\n      if (pdSuit === \"S\" && spadeLength >= 4) suitToBid = \"S\";\n      if (pdSuit === \"H\" && heartLength >= 4) suitToBid = \"H\";\n      if (!suitToBid && openingSuit === \"S\" && spadeLength >= 3)\n        suitToBid = \"S\";\n      if (!suitToBid && openingSuit === \"H\" && heartLength >= 3)\n        suitToBid = \"H\";\n      if (!suitToBid && agent.longestSuit !== prevSuit)\n        suitToBid = agent.longestSuit;\n      if (!suitToBid && agent.secondLength >= 4) suitToBid = agent.secondSuit;\n      if (!suitToBid) suitToBid = \"T\";\n      if (suitToBid > pdSuit) return pdLevel + suitToBid;\n      else return pdLevel + 1 + suitToBid;\n    }\n  }\n  if (prevLevel === 1 && prevSuit > openingSuit) {\n    // previously responded at 1-level\n\n    let majorFit = false;\n    let minorFit = false;\n\n    if (openingSuit === pdSuit) {\n      //6-card suit\n      if (pdSuit === \"S\" && spadeLength >= 2) majorFit = true;\n      if (pdSuit === \"H\" && heartLength >= 2) majorFit = true;\n      if (pdSuit === \"D\" && diamondLength >= 2) minorFit = true;\n      if (pdSuit === \"C\" && clubLength >= 2) minorFit = true;\n    } else if (pdSuit !== \"T\") {\n      // opener has bid a new suit\n      if (pdSuit === \"S\" && spadeLength >= 4) majorFit = true;\n      if (pdSuit === \"H\" && heartLength >= 4) majorFit = true;\n      if (pdSuit === \"D\" && diamondLength >= 4) minorFit = true;\n      if (pdSuit === \"C\" && clubLength >= 4) minorFit = true;\n    }\n    if (majorFit) {\n      let aiLevel = 0;\n      if (agent.ltc <= 9) aiLevel = agent.ltc <= 7 ? 4 : 11 - agent.ltc;\n      if (agent.ltc === 10) aiLevel = 2;\n      aiLevel = aiLevel + pdLevel - 1;\n      aiLevel = aiLevel > 4 ? 4 : aiLevel;\n      return aiLevel > pdLevel ? aiLevel + pdSuit : \"P\";\n    } else {\n      if (pdBid < \"2\" + openingSuit)\n        if (agent.totalPoints < 10) {\n          // need to pass or correct\n          const { pdSuitLength, openingSuitLength } = getPassCorrect(\n            openingSuit,\n            spadeLength,\n            heartLength,\n            diamondLength,\n            clubLength,\n            pdSuit\n          );\n          if (pdSuitLength > openingSuitLength) return \"P\";\n          else return openingLevel + 1 + openingSuit;\n        } else if (agent.totalPoints < 12) {\n          if (longestLength >= 5 && [\"S\", \"H\"].includes(longestSuit)) {\n            if (longestSuit < openingSuit) return \"2\" + longestSuit;\n            // need to pass or correct\n            const { pdSuitLength, openingSuitLength } = getPassCorrect(\n              openingSuit,\n              spadeLength,\n              heartLength,\n              diamondLength,\n              clubLength,\n              pdSuit\n            );\n            if (pdSuitLength > openingSuitLength) return \"P\";\n            else return openingLevel + 1 + openingSuit;\n          }\n        } else {\n          //GF hand\n          if (longestLength >= 5) return \"3\" + longestSuit;\n          else return \"2T\";\n        }\n    }\n  }\n\n  return \"\";\n};\n\nconst Majors = {\n  getOpening,\n  getOvercall,\n  getResponse,\n  getOpenerRebid,\n  getResponderRebid,\n};\n\nexport default Majors;\nfunction getPassCorrect(\n  openingSuit,\n  spadeLength,\n  heartLength,\n  diamondLength,\n  clubLength,\n  pdSuit\n) {\n  const openingSuitLength =\n    openingSuit === \"S\"\n      ? spadeLength\n      : openingSuit === \"H\"\n      ? heartLength\n      : openingSuit === \"D\"\n      ? diamondLength\n      : clubLength;\n  const pdSuitLength =\n    pdSuit === \"S\"\n      ? spadeLength\n      : pdSuit === \"H\"\n      ? heartLength\n      : pdSuit === \"D\"\n      ? diamondLength\n      : clubLength;\n  return { pdSuitLength, openingSuitLength };\n}\n","import _ from \"lodash\";\nimport NT from \"./convention/NT\";\nimport Minors from \"./convention/minors\";\nimport Majors from \"./convention/majors\";\n\nclass Agent {\n  constructor(hand) {\n    this.hand = hand;\n    this.hcp = 0;\n    this.ltc = 0;\n    this.shape = \"\";\n    this.distribution = [];\n    this.evaluateHand();\n    const {\n      longestLength,\n      longestSuit,\n      secondLength,\n      secondSuit,\n    } = this.getTwoLongest();\n    this.longestLength = longestLength;\n    this.longestSuit = longestSuit;\n    this.secondLength = secondLength;\n    this.secondSuit = secondSuit;\n    this.totalPoints = this.hcp;\n    if (longestLength > 4 && hand[longestSuit].match(\"A|K|Q\"))\n      this.totalPoints += longestLength - 4;\n    if (secondLength > 4 && hand[secondSuit].match(\"A|K|Q\"))\n      this.totalPoints += secondLength - 4;\n\n    this.spadeLength = this.distribution[0];\n    this.heartLength = this.distribution[1];\n    this.diamondLength = this.distribution[2];\n    this.clubLength = this.distribution[3];\n  }\n  print() {\n    console.log(\n      this.hand,\n      ` ${this.hcp} ${this.totalPoints} Dist:${this.distribution} LTC:${this.ltc} Shape:${this.shape}`\n    );\n  }\n  evaluateHand() {\n    for (const suit in this.hand) {\n      const cards = this.hand[suit];\n      this.hcp += cards.search(\"A\") >= 0 ? 4 : 0;\n      this.hcp += cards.search(\"K\") >= 0 ? 3 : 0;\n      this.hcp += cards.search(\"Q\") >= 0 ? 2 : 0;\n      this.hcp += cards.search(\"J\") >= 0 ? 1 : 0;\n      this.distribution.push(cards.length);\n      let ltcCards =\n        cards.length >= 3\n          ? cards.replace(\"A\", \"\").replace(\"K\", \"\").replace(\"Q\", \"\")\n          : cards.length === 2\n          ? cards.replace(\"A\", \"\").replace(\"K\", \"\")\n          : cards.replace(\"A\", \"\");\n      this.ltc += Math.min(3, cards.length) - (cards.length - ltcCards.length);\n    }\n    const shapeLengths = _.groupBy(this.distribution);\n    this.shape =\n      shapeLengths[0] || shapeLengths[1]\n        ? \"U\"\n        : shapeLengths[2] && shapeLengths[2].length > 1\n        ? \"S\"\n        : \"B\";\n  }\n  goodToOvercall(suit) {\n    const cards = this.hand[suit];\n    let topCards = 0;\n    if (cards.search(\"A\") >= 0) topCards++;\n    if (cards.search(\"K\") >= 0) topCards++;\n    if (cards.search(\"Q\") >= 0) topCards++;\n    if (cards.search(\"J\") >= 0 && cards.search(\"T\") >= 0) topCards++;\n    return cards.length >= 5 && topCards >= 2;\n  }\n\n  haveStopper(suit) {\n    const cards = this.hand[suit];\n    if (cards.search(\"A\") >= 0) return true;\n    if (cards.search(\"K\") >= 0 && cards.length >= 2) return true;\n    if (cards.length === 3) {\n      if (\n        cards.charAt(0) === \"Q\" &&\n        (cards.charAt(1) === \"J\" || cards.charAt(1) === \"T\")\n      )\n        return true;\n    }\n    if (cards.length >= 4) return true;\n    return false;\n  }\n\n  getTwoLongest() {\n    const longestLength = _.max(this.distribution);\n    const longestIndex = _.indexOf(this.distribution, longestLength);\n    const longestSuit = this.suitMap[longestIndex];\n    const remainingDist = [...this.distribution];\n    remainingDist[longestIndex] = 0;\n    const secondLength = _.max(remainingDist);\n    const secondIndex = _.indexOf(remainingDist, secondLength);\n    const secondSuit = this.suitMap[secondIndex];\n    return { longestLength, longestSuit, secondLength, secondSuit };\n  }\n\n  getGoingBid(bids) {\n    let bid;\n    let dblRdbl = \"\";\n    for (let i = bids.length - 1; i >= 0; i--) {\n      bid = bids[i];\n      if (bid === \"X\" && !dblRdbl) dblRdbl = \"X\";\n      if (bid === \"XX\" && !dblRdbl) dblRdbl = \"XX\";\n      if (bid.match(/^\\d/)) return [i, bid, dblRdbl];\n    }\n    return [-1, \"\", \"\"];\n  }\n\n  getBidderRoles(bids) {\n    let bidderRole, pdRole;\n\n    if (bids.length === 0) bidderRole = \"Opener\";\n    else if (bids.length === 1) {\n      bidderRole = bids[0] === \"P\" ? \"Opener\" : \"Overcaller\";\n    }\n    if (bidderRole) return [bidderRole, pdRole];\n\n    console.assert(bids.length > 1);\n\n    [pdRole] = this.getBidderRoles(bids.slice(0, bids.length - 2));\n    if (pdRole === \"Opener\" || pdRole === \"Overcaller\") {\n      bidderRole =\n        bids[bids.length - 2] === \"P\"\n          ? bids[bids.length - 1] === \"P\"\n            ? pdRole\n            : \"Overcaller\"\n          : pdRole === \"Opener\"\n          ? \"Responder\"\n          : \"Advancer\";\n    } else if (pdRole === \"Responder\" || pdRole === \"Advancer\") {\n      bidderRole = \"OpenerRebid\";\n    } else if (pdRole === \"OpenerRebid\") bidderRole = \"ResponderRebid\";\n    return [bidderRole, pdRole];\n  }\n\n  getBiddingContext(bids) {\n    const [gb, goingBid, dblRdbl] = this.getGoingBid(bids);\n    const [pgb, priorGoingBid, priorDblRdbl] = goingBid\n      ? this.getGoingBid(bids.slice(0, gb))\n      : [-1, \"\", \"\"];\n    const biddingContext = {\n      bidderRole: null,\n      pdRole: null,\n      oppSuits: null,\n      goingBid,\n      priorGoingBid,\n      dblRdbl,\n      priorDblRdbl,\n    };\n\n    console.assert(pgb >= -1);\n    const [bidderRole, pdRole] = this.getBidderRoles(bids);\n    biddingContext.bidderRole = bidderRole;\n    biddingContext.pdRole = pdRole;\n    biddingContext.oppSuits = this.getOppSuits(bids);\n\n    return biddingContext;\n  }\n\n  getOppSuits(bids) {\n    let suits = new Set();\n    for (let i = bids.length - 1; i >= 0; i = i - 2) {\n      if (bids[i].match(/^\\d/)) suits.add(bids[i].charAt(1));\n    }\n    return suits;\n  }\n\n  getBid(bids = []) {\n    let aiBid = \"\";\n    const bc = this.getBiddingContext(bids);\n    if (bc.bidderRole === \"Opener\") aiBid = this.getOpeningBid();\n    if (bc.bidderRole === \"Overcaller\") aiBid = this.getOvercall(bids, bc);\n    if (bc.bidderRole === \"Responder\" || bc.bidderRole === \"Advancer\")\n      aiBid = this.getResponse(bids, bc);\n    if (bc.bidderRole === \"OpenerRebid\") aiBid = this.getOpenerRebid(bids, bc);\n    if (bc.bidderRole === \"ResponderRebid\")\n      aiBid = this.getResponderRebid(bids, bc);\n\n    // console.log(\"aiBid:\", aiBid);\n    return aiBid;\n  }\n  getOpeningBid() {\n    let aiBid = \"\";\n\n    aiBid = NT.getOpening(this);\n    if (!aiBid) aiBid = this.get2CBid();\n    if (!aiBid) aiBid = Majors.getOpening(this);\n    if (!aiBid) aiBid = Minors.getOpening(this);\n    if (!aiBid) aiBid = this.getPreemptBid();\n    if (!aiBid) aiBid = \"P\";\n    // this.print();\n    // console.log(\"Major?\", aiBid);\n\n    return aiBid;\n  }\n\n  getOvercall(bids, bc) {\n    let aiBid = \"\";\n    const suit = bc.goingBid.charAt(1);\n    const level = bc.goingBid.charAt(0) - \"0\";\n    const { pdRole } = bc;\n\n    // no overcall over strong 2C\n    if (pdRole && pdRole === \"Opener\" && bids[bids.length - 1] === \"2C\")\n      return \"P\";\n    if (pdRole && pdRole === \"Overcaller\" && bids[bids.length - 3] === \"2C\")\n      return \"P\";\n\n    aiBid = NT.getOvercall(bids, bc, this);\n    if (!aiBid) aiBid = Majors.getOvercall(bids, bc, this); // handles minors as well\n    if (!aiBid) aiBid = this.getTODouble(bids, bc, level, suit, bc.oppSuits);\n    if (!aiBid)\n      aiBid = this.getPreemptOvercall(level, bc.oppSuitssuit, bc.oppSuits);\n    if (!aiBid) aiBid = \"P\";\n    return aiBid;\n  }\n  getResponse(bids, bc) {\n    let aiBid = \"\";\n    const openingBid = bids[bids.length - 2];\n    const suit = openingBid.charAt(1);\n    const level = openingBid.charAt(0) - \"0\";\n\n    if (suit === \"T\") aiBid = NT.getResponse(bids, bc, this);\n    // console.log(\"NT response \", aiBid);\n\n    if (!aiBid && level === 1 && [\"S\", \"H\"].includes(suit)) {\n      aiBid = Majors.getResponse(bids, bc, this);\n      // console.log(\"Major suit response \", aiBid);\n    }\n\n    if (!aiBid && level === 1 && [\"D\", \"C\"].includes(suit)) {\n      aiBid = Minors.getResponse(bids, bc, this);\n      // console.log(\"Minor suit response \", aiBid);\n    }\n\n    if (!aiBid) {\n      aiBid = this.getResponseBid(bids, bc);\n      // console.log(\"Other response \", aiBid);\n    }\n\n    return aiBid;\n  }\n\n  getOpenerRebid(bids, bc) {\n    let aiBid = \"\";\n    const openingBid = bids[bids.length - 4];\n    const suit = openingBid.charAt(1);\n    if (suit === \"T\") aiBid = NT.getOpenerRebid(bids, bc, this);\n\n    if (!aiBid) {\n      aiBid = Majors.getOpenerRebid(bids, bc, this);\n    }\n\n    if (!aiBid && [\"D\", \"C\"].includes(suit)) {\n      aiBid = Minors.getOpenerRebid(bids, bc, this);\n    }\n\n    // TODO:  if (!aiBid) aiBid = getRebid(bid);\n\n    return aiBid;\n  }\n\n  getResponderRebid(bids, bc) {\n    let aiBid = \"\";\n    const openingBid = bids[bids.length - 6];\n    const suit = openingBid.charAt(1);\n\n    if (suit === \"T\") aiBid = NT.getResponderRebid(bids, bc, this);\n    if (!aiBid) {\n      aiBid = Majors.getResponderRebid(bids, bc, this);\n    }\n\n    if (!aiBid && [\"D\", \"C\"].includes(suit)) {\n      aiBid = Minors.getResponderRebid(bids, bc, this);\n    }\n\n    // TODO:  if (!aiBid) aiBid = getRebid(bid);\n\n    return aiBid;\n  }\n\n  get2CBid = () => {\n    if (this.hcp >= 21) return \"2C\";\n    return \"\";\n  };\n\n  getPreemptBid = () => {\n    if (this.ltc >= 9) return \"\";\n    if (this.longestLength < 6) return \"\";\n\n    if (this.longestLength === 6) {\n      return this.spadeLength === 6\n        ? \"2S\"\n        : this.heartLength === 6\n        ? \"2H\"\n        : this.diamondLength === 6\n        ? \"2D\"\n        : \"P\";\n    }\n    if (this.longestLength > 6) {\n      const suit =\n        this.spadeLength > 6\n          ? \"S\"\n          : this.heartLength > 6\n          ? \"H\"\n          : this.diamondLength > 6\n          ? \"D\"\n          : \"C\";\n      let level = 11 - this.ltc;\n      if (level > 4) level = 4;\n      return level + suit;\n    }\n    return \"\";\n  };\n\n  suitMap = { 0: \"S\", 1: \"H\", 2: \"D\", 3: \"C\" };\n\n  getTODouble(bids, bc, level, suit, oppSuits) {\n    if (this.hcp < 12) return \"\";\n    if (this.hcp >= 18 + 2 * (level - 1)) return \"X\";\n\n    if (suit === \"T\")\n      if (NT.getOpening(bids, bc, this) === \"1T\" && level <= 2) return \"X\";\n      else return \"\";\n\n    const cards = this.hand[suit];\n    const suits = [\"S\", \"H\", \"D\", \"C\"];\n\n    if (cards.length >= 3) return \"\";\n    for (let s in suits) {\n      if (suits[s] !== suit && this.hand[suits[s]].length < 3) return \"\";\n    }\n    return \"X\";\n  }\n  getPreemptOvercall(level, suit, oppSuits) {\n    let aiBid = this.getPreemptBid();\n    if (aiBid && !oppSuits.has(aiBid.charAt(1)) && aiBid > level + suit)\n      return aiBid;\n    return \"\";\n  }\n\n  getResponseBid(bids, bc) {\n    let aiBid = \"\";\n    const bid = bids[bids.length - 2];\n\n    if (bid === \"2C\") aiBid = this.get2CResponse(bids, bc);\n    if (!aiBid) {\n      if (bid.charAt(0) === \"2\") aiBid = this.getWeak2Response(bids, bc);\n    }\n    return aiBid;\n  }\n\n  get2CResponse(bids, bc) {\n    const rhoBid = bids[bids.length - 1];\n    if (rhoBid === \"P\") {\n      if (this.hcp >= 5 && this.longestLength >= 5)\n        return this.longestSuit === \"C\"\n          ? \"3C\"\n          : this.longestSuit === \"D\"\n          ? \"3D\"\n          : \"2\" + this.longestSuit;\n      return \"2D\";\n    }\n    if (rhoBid === \"X\") {\n      if (this.hcp >= 5 && this.longestLength >= 5)\n        return this.longestSuit === \"C\" ? \"3C\" : \"2\" + this.longestSuit;\n      if (this.hcp >= 3) return \"XX\";\n      return \"P\";\n    }\n\n    // rho has bid a suit\n    let aiBid = \"\";\n    if (this.hcp >= 5 && this.longestLength >= 5)\n      aiBid = this.longestSuit === \"C\" ? \"3C\" : \"2\" + this.longestSuit;\n    if (aiBid && aiBid > rhoBid) return aiBid;\n    if (this.hcp >= 3) return \"X\";\n    return \"P\";\n  }\n  getWeak2Response(bids, bc) {\n    const suit = bids[bids.length - 2].charAt(1);\n    const rhoBid = bids[bids.length - 1];\n    let aiBid = \"\";\n\n    // first look to support the major\n    const supportLength =\n      suit === \"S\"\n        ? this.spadeLength\n        : suit === \"H\"\n        ? this.heartLength\n        : this.diamondLength;\n    if ([\"S\", \"H\"].includes(suit)) {\n      if (this.totalPoints + supportLength >= 17) {\n        aiBid = \"4\" + suit;\n        if ([\"P\", \"X\"].includes(rhoBid) || aiBid > rhoBid) return aiBid;\n      }\n    }\n\n    // next try to bid your best suit\n    if (\n      this.hcp > 15 &&\n      this.longestLength >= 5 &&\n      [\"S\", \"H\"].includes(this.longestSuit)\n    ) {\n      aiBid = \"2\" + this.longestSuit;\n      if ([\"P\", \"X\"].includes(rhoBid) || aiBid > rhoBid) return aiBid;\n      if (aiBid === rhoBid) return \"X\";\n      if (this.hcp > 17 && this.longestLength >= 6)\n        aiBid = \"3\" + this.longestSuit;\n      if (aiBid > rhoBid) return aiBid;\n      return \"X\";\n    }\n\n    // get more info or wait and see\n    if (this.hcp > 15 && rhoBid === \"P\") return \"2T\";\n    return \"P\";\n  }\n}\n\nexport default Agent;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport UndoBid from \"./undoBid\";\nimport auth from \"../api/auth\";\n\nconst DealControl = ({\n  undoBid,\n  saveDeal,\n  nextDeal,\n  doneDeal,\n  practiceMode,\n}) => {\n  const showNextPane = () => {\n    return (\n      <React.Fragment>\n        {undoBid && <UndoBid onUndoBid={undoBid} />}\n        {practiceMode ? (\n          <React.Fragment>\n            <Button variant=\"success\" size=\"sm\" onClick={nextDeal}>\n              Next Deal\n            </Button>\n            <Button\n              variant=\"warning\"\n              size=\"sm\"\n              disabled={!auth.getCurrentUser()}\n              onClick={saveDeal}\n            >\n              {!auth.getCurrentUser() ? \"Login to Save\" : \"Save to Review\"}\n            </Button>\n          </React.Fragment>\n        ) : (\n          <Button variant=\"success\" size=\"sm\" onClick={doneDeal}>\n            Done\n          </Button>\n        )}\n      </React.Fragment>\n    );\n  };\n  return <React.Fragment>{showNextPane()}</React.Fragment>;\n};\n\nexport default DealControl;\n","import http from \"./http\";\nimport auth from \"./auth\";\n\nconst saveDeal = async (hands, auction, callback) => {\n  const username = auth.getCurrentUser();\n  if (!username) {\n    console.log(\"Not saving deal. Need to login first\");\n    return;\n  }\n\n  try {\n    const jwt = auth.getJwt();\n\n    const { data: result } = await http.post(\n      http.apiUrl() + \"/games/api/deals/\",\n      {\n        hands,\n        auction,\n        username,\n      },\n      {\n        headers: { Authorization: \"JWT \" + jwt },\n      }\n    );\n    callback(result);\n  } catch (ex) {\n    if (ex.response) console.log(ex.response);\n    else console.log(ex.request);\n    console.log(\"Need to login again\");\n    callback(null);\n  }\n};\n\nexport async function getDeals(callback) {\n  const username = auth.getCurrentUser();\n  if (!username) {\n    console.log(\"Not fetching deal. Need to login first\");\n    return;\n  }\n\n  try {\n    const jwt = auth.getJwt();\n\n    const { data: result } = await http.get(\n      http.apiUrl() + \"/games/api/deals/\",\n      {\n        username,\n      },\n      {\n        headers: { Authorization: \"JWT \" + jwt },\n      }\n    );\n    callback(result);\n  } catch (ex) {\n    if (ex.response) console.log(ex.response);\n    else if (ex.request) console.log(ex.request);\n    else console.log(ex);\n    console.log(\"Need to login again\");\n    callback(null);\n  }\n}\n\nconst bridgeApi = {\n  saveDeal,\n  getDeals,\n};\n\nexport default bridgeApi;\n","import React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport auth from \"../api/auth\";\n\nconst Login = ({ loginHandler, signupHandler }) => {\n  const [userName, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const [formName, setFormrName] = useState(\"login\");\n\n  const loginScreen = () => {\n    return (\n      <div>\n        <form onSubmit={(e) => handleLogin(e)}>\n          <h4>Log In</h4>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"username\"\n              onChange={(e) => setUserName(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              name=\"password\"\n              autoComplete=\"on\"\n              onChange={(e) => setPassword(e.target.value)}\n            ></input>\n          </div>\n          <Button type=\"submit\" className=\"btn btn-primary btn-block\">\n            Submit\n          </Button>\n          <p className=\"text-right\">\n            New to Veed?{\" \"}\n            <Button variant=\"link\" onClick={() => setFormrName(\"signup\")}>\n              Please Sign Up\n            </Button>\n          </p>\n        </form>\n      </div>\n    );\n  };\n\n  const registerScreen = () => {\n    return (\n      <div>\n        <form onSubmit={(e) => handleSignup(e)}>\n          <h4>Sign Up</h4>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"username\"\n              onChange={(e) => setUserName(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              name=\"password\"\n              autoComplete=\"on\"\n              onChange={(e) => setPassword(e.target.value)}\n            ></input>\n          </div>\n          <Button type=\"submit\" className=\"btn btn-primary btn-block\">\n            Submit\n          </Button>\n          <p className=\"text-right\">\n            Already signed up to Veed?\n            <Button variant=\"link\" onClick={() => setFormrName(\"login\")}>\n              Please Log In\n            </Button>\n          </p>\n        </form>\n      </div>\n    );\n  };\n  const handleLogin = (e) => {\n    e.preventDefault();\n    auth.login(userName, password, loginHandler);\n  };\n\n  const handleSignup = (e) => {\n    e.preventDefault();\n    auth.signup(userName, password, signupHandler);\n  };\n\n  return (\n    <React.Fragment>\n      {formName === \"login\" ? loginScreen() : registerScreen()}\n    </React.Fragment>\n  );\n};\n\nexport default Login;\n","import React, { Component } from \"react\";\nimport Deal from \"./deal\";\nimport Hand from \"./hand\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport Auction from \"./auction\";\nimport BidBox from \"./bidBox\";\nimport Agent from \"./agent\";\nimport DealControl from \"./dealControl\";\nimport bridgeApi from \"../api/bridgeApi\";\nimport Login from \"../nav/login\";\n\nconst playerNames = { 0: \"West\", 1: \"North\", 2: \"East\", 3: \"South\" };\nclass Bridge extends Component {\n  constructor(props) {\n    super(props);\n    this.begin = true;\n    this.state = { bids: [], needsLogin: false };\n  }\n  componentDidMount() {\n    this.startDeal();\n  }\n\n  startDeal = () => {\n    this.deal = new Deal();\n\n    if (this.begin && this.props.location.state) {\n      const { hands, auction } = this.props.location.state;\n\n      this.deal.setHands(JSON.parse(hands));\n      this.auction = JSON.parse(auction);\n    }\n\n    this.agents = [];\n    for (let a = 0; a < 4; a++) {\n      this.agents.push(new Agent(this.deal.getHand(a)));\n    }\n    this.dealer = this.deal.getDealer();\n    this.player = this.dealer;\n    this.aiBid = this.agents[this.player].getBid();\n    this.setState({ bids: [], needsLogin: false });\n  };\n  doneDeal = () => {\n    console.log(\"Redirect to Review page \", this.props);\n    this.props.history.goBack();\n  };\n\n  nextDeal = () => {\n    this.startDeal();\n    this.auction = null;\n    this.begin = false;\n  };\n  saveDeal = () => {\n    const hands = JSON.stringify(this.deal.hands);\n    const auction = JSON.stringify(this.state.bids);\n\n    bridgeApi.saveDeal(hands, auction, (result) => {\n      console.log(\"Deal saved:\", result);\n      if (!result) {\n        console.log(\"Deal not saved:\");\n        this.setState({ needsLogin: true });\n\n        console.log(\"Redirected to login\");\n      } else this.nextDeal();\n    });\n  };\n  loginHandler = () => {\n    console.log(\"Logged in again\");\n    this.setState({ needsLogin: false });\n  };\n\n  getGoingBid = () => {\n    let bids = [...this.state.bids];\n    let bid;\n    while ((bid = bids.pop())) {\n      if (bid.match(/^\\d/)) {\n        return bid;\n      }\n    }\n    return null;\n  };\n\n  placeBid = (bid) => {\n    const bids = [...this.state.bids, bid];\n    this.player = (this.dealer + bids.length) % 4;\n    this.aiBid = this.agents[this.player].getBid(bids);\n    this.setState({ bids });\n  };\n\n  undoBid = () => {\n    console.log(\"Undoing last bid...\");\n    const bids = [...this.state.bids];\n    bids.pop();\n    this.player = (this.dealer + bids.length) % 4;\n    this.aiBid = this.agents[this.player].getBid(bids);\n    this.setState({ bids });\n  };\n\n  biddingOver = () => {\n    const bids = [...this.state.bids];\n    if (bids.length >= 4) {\n      const l = bids.length;\n      if (bids[l - 1] === \"P\" && bids[l - 2] === \"P\" && bids[l - 3] === \"P\")\n        return true;\n    }\n    return false;\n  };\n  getDoubleOption = () => {\n    const bids = [...this.state.bids];\n    let option;\n    const l = bids.length;\n\n    if (l === 0) return option;\n\n    const lastBid = bids[l - 1];\n    if (lastBid === \"X\") option = \"XX\";\n    else if (lastBid !== \"P\") option = \"X\";\n    else if (l >= 3) {\n      const partnerBid = bids[l - 2];\n      const lhoBid = bids[l - 3];\n      if (partnerBid === \"P\") {\n        if (lhoBid === \"X\") option = \"XX\";\n        else if (lhoBid !== \"P\") option = \"X\";\n      }\n    }\n    return option;\n  };\n\n  render() {\n    if (this.state.needsLogin)\n      return (\n        <Login\n          loginHandler={this.loginHandler}\n          signipHandler={this.loginHandler}\n        />\n      );\n\n    if (this.deal) return this.showHands(this.player);\n    return null;\n  }\n\n  showOneHand(bidder, seat) {\n    if (this.biddingOver() || bidder === seat)\n      return (\n        <React.Fragment>\n          <Hand cards={this.deal.getHand(seat)} name={playerNames[seat]} />\n        </React.Fragment>\n      );\n    return <Hand name={playerNames[seat]} />;\n  }\n\n  showHands(bidder) {\n    return (\n      <Container fluid>\n        <Row>\n          <Col>\n            {this.auction && (\n              <Auction\n                title={\"Saved Auction\"}\n                dealer={this.dealer}\n                bids={this.auction}\n                biddingOver={true}\n              />\n            )}\n          </Col>\n          <Col>{this.showOneHand(bidder, 1)} </Col>\n          <Col>\n            {(this.auction || this.biddingOver()) && (\n              <DealControl\n                undoBid={\n                  this.state.bids && this.state.bids.length > 0 && this.undoBid\n                }\n                saveDeal={this.saveDeal}\n                nextDeal={this.nextDeal}\n                doneDeal={this.doneDeal}\n                practiceMode={!this.auction}\n              />\n            )}\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Col>{this.showOneHand(bidder, 0)} </Col>\n          </Col>\n          <Col>\n            <Auction\n              dealer={this.dealer}\n              bids={this.state.bids}\n              aiBid={this.aiBid}\n              biddingOver={this.biddingOver()}\n            />\n            {!this.biddingOver() && (\n              <BidBox\n                placeBid={this.placeBid}\n                undoBid={this.undoBid}\n                goingBid={this.getGoingBid()}\n                allowUndo={this.state.bids.length > 0}\n                doubleOption={this.getDoubleOption()}\n                aiBid={this.aiBid}\n              />\n            )}\n          </Col>\n          <Col>\n            <Col>{this.showOneHand(bidder, 2)} </Col>\n          </Col>\n        </Row>\n        <Row>\n          <Col></Col>\n          <Col>\n            <Col>{this.showOneHand(bidder, 3)} </Col>\n          </Col>\n          <Col></Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Bridge;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport auth from \"../api/auth\";\n\nconst Logout = ({ logoutHandler }) => {\n  const handleLogout = (e) => {\n    e.preventDefault();\n    auth.logout(logoutHandler);\n  };\n  return (\n    <React.Fragment>\n      <form onSubmit={(e) => handleLogout(e)}>\n        <h4>Log Out</h4>\n        <div className=\"form-group\">\n          <label htmlFor=\"username\">Username</label>\n          <input\n            type=\"text\"\n            readOnly\n            className=\"form-control\"\n            name=\"username\"\n            value={auth.getCurrentUser()}\n          />\n        </div>\n        <Button type=\"submit\" className=\"btn btn-primary btn-block\">\n          Submit\n        </Button>\n      </form>\n    </React.Fragment>\n  );\n};\n\nexport default Logout;\n","import React, { Component } from \"react\";\n\n// columns: array\n// sortColumn: object\n// onSort: function\n\nclass TableHeader extends Component {\n  raiseSort = path => {\n    const sortColumn = { ...this.props.sortColumn };\n    if (sortColumn.path === path)\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\n    else {\n      sortColumn.path = path;\n      sortColumn.order = \"asc\";\n    }\n    this.props.onSort(sortColumn);\n  };\n\n  renderSortIcon = column => {\n    const { sortColumn } = this.props;\n\n    if (column.path !== sortColumn.path) return null;\n    if (sortColumn.order === \"asc\") return <i className=\"fa fa-sort-asc\" />;\n    return <i className=\"fa fa-sort-desc\" />;\n  };\n\n  render() {\n    return (\n      <thead>\n        <tr>\n          {this.props.columns.map(column => (\n            <th\n              className=\"clickable\"\n              key={column.path || column.key}\n              onClick={() => this.raiseSort(column.path)}\n            >\n              {column.label} {this.renderSortIcon(column)}\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n}\n\nexport default TableHeader;\n","import React, { Component } from \"react\";\nimport _ from \"lodash\";\n\nclass TableBody extends Component {\n  renderCell = (item, column) => {\n    if (column.content) return column.content(item);\n\n    return _.get(item, column.path);\n  };\n\n  createKey = (item, column) => {\n    return item.id + (column.path || column.key);\n  };\n\n  render() {\n    const { data, columns } = this.props;\n\n    return (\n      <tbody>\n        {data.map((item) => (\n          <tr key={item.id}>\n            {columns.map((column) => (\n              <td key={this.createKey(item, column)}>\n                {this.renderCell(item, column)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default TableBody;\n","import React from \"react\";\nimport TableHeader from \"./tableHeader\";\nimport TableBody from \"./tableBody\";\n\nconst Table = ({ columns, sortColumn, onSort, data }) => {\n  return (\n    <table className=\"table\">\n      <TableHeader columns={columns} sortColumn={sortColumn} onSort={onSort} />\n      <TableBody columns={columns} data={data} />\n    </table>\n  );\n};\n\nexport default Table;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\n\nconst Pagination = ({ itemsCount, pageSize, currentPage, onPageChange }) => {\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  if (pagesCount === 1) return null;\n  const pages = _.range(1, pagesCount + 1);\n\n  return (\n    <nav>\n      <ul className=\"pagination\">\n        {pages.map((page) => (\n          <li\n            key={page}\n            className={page === currentPage ? \"page-item active\" : \"page-item\"}\n          >\n            <button\n              className=\"m-1 p-1 page-link\"\n              onClick={() => onPageChange(page)}\n            >\n              {page}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","import _ from \"lodash\";\n\nexport function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n  return _(items)\n    .slice(startIndex)\n    .take(pageSize)\n    .value();\n}\n","import React from \"react\";\n\nconst ListGroup = ({\n  items,\n  textProperty,\n  valueProperty,\n  selectedItem,\n  onItemSelect,\n}) => {\n  return (\n    <ul className=\"list-group\">\n      {items.map((item) => (\n        <li\n          onClick={() => onItemSelect(item)}\n          key={item[valueProperty]}\n          className={\n            item === selectedItem\n              ? \"p-1 list-group-item active\"\n              : \"p-1 list-group-item clickable\"\n          }\n        >\n          {item[textProperty]}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nListGroup.defaultProps = {\n  textProperty: \"name\",\n  valueProperty: \"id\",\n};\n\nexport default ListGroup;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nimport bridgeApi from \"../api/bridgeApi\";\nimport Table from \"../common/table\";\nimport Pagination from \"../common/pagination\";\nimport { paginate } from \"../common/paginate\";\nimport ListGroup from \"../common/listGroup\";\nimport Login from \"../nav/login\";\nclass DealsTable extends Component {\n  state = {\n    deals: [],\n    users: [],\n    currentPage: 1,\n    pageSize: 4,\n    selectedUser: null,\n    sortColumn: { path: \"saved_date\", order: \"desc\" },\n    begin: true, // TODO need to use reduex for this\n    needsLogin: false,\n  };\n\n  componentDidMount() {\n    if (this.state.begin) {\n      let deals;\n      bridgeApi.getDeals((result) => {\n        deals = result;\n        if (!deals) {\n          this.setState({ needsLogin: true });\n        } else {\n          const users = this.getUniqueUsers(deals);\n          this.setState({\n            deals,\n            users,\n            selectedUser: users[0],\n            begin: false,\n            needsLogin: false,\n          });\n        }\n      });\n    }\n  }\n  loginHandler = () => {\n    console.log(\"Logged in again\");\n    this.setState({ needsLogin: false });\n  };\n\n  handlePageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n  handleUserSelect = (user) => {\n    this.setState({ selectedUser: user, currentPage: 1 });\n  };\n  handleSort = (sortColumn) => {\n    this.setState({ sortColumn });\n  };\n\n  getUniqueUsers = (deals) => {\n    const users = [\"All users\"];\n    if (deals)\n      deals.forEach((deal) => {\n        users.push(_.get(deal, \"username\"));\n      });\n    const userObjects = [];\n    [...new Set(users)].forEach((u, idx) => {\n      const userObject = { id: idx, name: u };\n      userObjects.push(userObject);\n    });\n    return userObjects;\n  };\n\n  columns = [\n    {\n      path: \"id\",\n      label: \"ID\",\n      content: (deal) => (\n        <Link\n          to={{\n            pathname: \"/bridge\",\n            state: {\n              hands: `${deal.hands}`,\n              auction: `${deal.auction}`,\n            },\n          }}\n        >\n          {deal.id}\n        </Link>\n      ),\n    },\n    { path: \"hands\", label: \"Hands\" },\n\n    { path: \"auction\", label: \"Auction\" },\n    { path: \"username\", label: \"By\" },\n    { path: \"saved_date\", label: \"At\" },\n  ];\n\n  getPagedData = () => {\n    const {\n      pageSize,\n      currentPage,\n      sortColumn,\n      selectedUser,\n      deals: allDeals,\n    } = this.state;\n\n    let filtered = allDeals;\n    if (selectedUser && selectedUser.id !== 0)\n      filtered = allDeals.filter((m) => m.username === selectedUser.name);\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n\n    const deals = paginate(sorted, currentPage, pageSize);\n\n    return { totalCount: filtered.length, data: deals };\n  };\n  render() {\n    if (this.state.needsLogin)\n      return (\n        <Login\n          loginHandler={this.loginHandler}\n          signipHandler={this.loginHandler}\n        />\n      );\n\n    if (!this.state.deals) return <p>There are no deals in the database.</p>;\n    const { pageSize, currentPage, sortColumn } = this.state;\n\n    const { totalCount, data: deals } = this.getPagedData();\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-2\">\n          <ListGroup\n            items={this.state.users}\n            selectedItem={this.state.selectedUser}\n            onItemSelect={this.handleUserSelect}\n          />\n        </div>\n        <div className=\"col-10\">\n          <Link to=\"/bridge\" className=\"btn-sm btn-primary\">\n            New Deal\n          </Link>\n          {` Listing ${totalCount} saved deals`}\n          <Table\n            columns={this.columns}\n            data={deals}\n            sortColumn={sortColumn}\n            onSort={this.handleSort}\n          />\n          <Pagination\n            itemsCount={totalCount}\n            pageSize={pageSize}\n            currentPage={currentPage}\n            onPageChange={this.handlePageChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DealsTable;\n","import React, { useState } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport { Nav, Navbar, NavDropdown } from \"react-bootstrap\";\nimport Addition from \"../puzzles/addition/addition\";\nimport Home from \"./home\";\nimport TicTacToe from \"../puzzles/ttt/tictactoe\";\nimport Bridge from \"../bridge/bridge\";\nimport Logout from \"./logout\";\nimport Login from \"./login\";\nimport auth from \"../api/auth\";\nimport DealsTable from \"../bridge/dealsTable\";\n\nconst Menu = (props) => {\n  const path = \"/\";\n  const homePath = path;\n  const bridgePath = path + \"bridge\";\n  const dealsPath = path + \"deals\";\n\n  const loginPath = path + \"login\";\n  const logoutPath = path + \"logout\";\n\n  const tttPath = path + \"ttt\";\n  const additionPath = path + \"addition\";\n  const nowLoggedIn = () => (auth.getCurrentUser() ? true : false);\n\n  const [loggedIn, setLoggedIn] = useState(nowLoggedIn());\n  const handler = () => {\n    console.log(\"Logged in, signed up, or logged out\");\n    setLoggedIn(nowLoggedIn());\n    props.history.goBack();\n  };\n  return (\n    <React.Fragment>\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Navbar.Brand href=\"#home\">Veed</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <Nav.Link as={Link} to={homePath}>\n              Home\n            </Nav.Link>\n            {loggedIn ? (\n              <Nav.Link as={Link} to={dealsPath}>\n                Bridge\n              </Nav.Link>\n            ) : (\n              <Nav.Link as={Link} to={bridgePath}>\n                Bridge\n              </Nav.Link>\n            )}\n            <NavDropdown title=\"Puzzles\" id=\"basic-nav-dropdown\">\n              <NavDropdown.Item as={Link} to={tttPath}>\n                TicTacToe\n              </NavDropdown.Item>\n              <NavDropdown.Item href=\"#action/3.3\">15 Puzzle</NavDropdown.Item>\n              <NavDropdown.Item as={Link} to={additionPath}>\n                Addition\n              </NavDropdown.Item>\n            </NavDropdown>\n            {loggedIn ? (\n              <Nav.Link as={Link} to={logoutPath}>\n                Logout\n              </Nav.Link>\n            ) : (\n              <Nav.Link as={Link} to={loginPath}>\n                Login\n              </Nav.Link>\n            )}\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <Switch>\n        <Route path={additionPath} component={Addition} />\n        <Route path={tttPath} component={TicTacToe} />\n        <Route path={bridgePath} component={Bridge} />\n        <Route path={dealsPath} component={DealsTable} />\n\n        <Route\n          path={loginPath}\n          render={() => (\n            <Login loginHandler={handler} signupHandler={handler} />\n          )}\n        />\n        <Route\n          path={logoutPath}\n          render={() => <Logout logoutHandler={handler} />}\n        />\n        <Route exact path=\"/\" component={Home} />\n      </Switch>\n    </React.Fragment>\n  );\n};\n\nexport default Menu;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { MemoryRouter, Route } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport Menu from \"./menu\";\n\nconst Veed = (props) => {\n  return (\n    <MemoryRouter>\n      <Container>\n        <ToastContainer />\n        <Route component={Menu} />\n      </Container>\n    </MemoryRouter>\n  );\n};\n\nexport default Veed;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\nimport Veed from \"./nav/veed\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Veed />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}